[
  {
    "line": 14,
    "text": "import pickle as pkl",
    "annotation": "\u2705 Best Practice: Use of joblib for parallel processing can improve performance and readability",
    "confidence": 1.0,
    "tokens": [
      11748,
      2298,
      293,
      355,
      279,
      41582
    ],
    "start_token": 0,
    "end_token": 6,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      1693,
      8019,
      329,
      10730,
      7587,
      460,
      2987,
      2854,
      290,
      1100,
      1799
    ],
    "label": "best_practice",
    "reason": "Use of joblib for parallel processing can improve performance and readability"
  },
  {
    "line": 16,
    "text": "",
    "annotation": "\u2705 Best Practice: Class docstring should be added to describe the purpose and usage of the class",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 6,
    "end_token": 6,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5016,
      2205,
      8841,
      815,
      307,
      2087,
      284,
      6901,
      262,
      4007,
      290,
      8748,
      286,
      262,
      1398
    ],
    "label": "best_practice",
    "reason": "Class docstring should be added to describe the purpose and usage of the class"
  },
  {
    "line": 31,
    "text": "        freq: str = \"1min\",",
    "annotation": "\u2705 Best Practice: Initialize instance variables in the constructor for clarity and maintainability",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2030,
      80,
      25,
      965,
      796,
      366,
      16,
      1084,
      1600
    ],
    "start_token": 6,
    "end_token": 22,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      20768,
      1096,
      4554,
      9633,
      287,
      262,
      23772,
      329,
      16287,
      290,
      5529,
      1799
    ],
    "label": "best_practice",
    "reason": "Initialize instance variables in the constructor for clarity and maintainability"
  },
  {
    "line": 38,
    "text": "        self.valid_start_time = valid_start_time",
    "annotation": "\ud83e\udde0 ML Signal: Initialization of configuration settings for a machine learning model",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      12102,
      62,
      9688,
      62,
      2435,
      796,
      4938,
      62,
      9688,
      62,
      2435
    ],
    "start_token": 22,
    "end_token": 42,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      1634,
      286,
      8398,
      6460,
      329,
      257,
      4572,
      4673,
      2746
    ],
    "label": "ml_signal",
    "reason": "Initialization of configuration settings for a machine learning model"
  },
  {
    "line": 44,
    "text": "        self.qlib_conf = qlib_conf",
    "annotation": "\ud83e\udde0 ML Signal: Use of a logger for tracking and debugging, common in ML pipelines",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      80,
      8019,
      62,
      10414,
      796,
      10662,
      8019,
      62,
      10414
    ],
    "start_token": 42,
    "end_token": 60,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      49706,
      329,
      9646,
      290,
      28769,
      11,
      2219,
      287,
      10373,
      31108
    ],
    "label": "ml_signal",
    "reason": "Use of a logger for tracking and debugging, common in ML pipelines"
  },
  {
    "line": 49,
    "text": "        \"\"\"Generate the training, validation and test datasets for prediction",
    "annotation": "\ud83e\udde0 ML Signal: Usage of configuration paths to determine dataset file locations",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      37227,
      8645,
      378,
      262,
      3047,
      11,
      21201,
      290,
      1332,
      40522,
      329,
      17724
    ],
    "start_token": 60,
    "end_token": 79,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      8398,
      13532,
      284,
      5004,
      27039,
      2393,
      7064
    ],
    "label": "ml_signal",
    "reason": "Usage of configuration paths to determine dataset file locations"
  },
  {
    "line": 51,
    "text": "        Returns:",
    "annotation": "\u2705 Best Practice: Use of string slicing to modify file paths",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      16409,
      25
    ],
    "start_token": 79,
    "end_token": 88,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      4731,
      49289,
      284,
      13096,
      2393,
      13532
    ],
    "label": "best_practice",
    "reason": "Use of string slicing to modify file paths"
  },
  {
    "line": 55,
    "text": "        dict_feature_path = self.feature_conf[\"path\"]",
    "annotation": "\ud83e\udde0 ML Signal: Usage of configuration paths to determine dataset file locations",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8633,
      62,
      30053,
      62,
      6978,
      796,
      2116,
      13,
      30053,
      62,
      10414,
      14692,
      6978,
      8973
    ],
    "start_token": 88,
    "end_token": 109,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      8398,
      13532,
      284,
      5004,
      27039,
      2393,
      7064
    ],
    "label": "ml_signal",
    "reason": "Usage of configuration paths to determine dataset file locations"
  },
  {
    "line": 57,
    "text": "        valid_feature_path = dict_feature_path[:-4] + \"_valid.pkl\"",
    "annotation": "\u2705 Best Practice: Use of string slicing to modify file paths",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      4938,
      62,
      30053,
      62,
      6978,
      796,
      8633,
      62,
      30053,
      62,
      6978,
      58,
      21912,
      19,
      60,
      1343,
      45434,
      12102,
      13,
      79,
      41582,
      1
    ],
    "start_token": 109,
    "end_token": 138,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      4731,
      49289,
      284,
      13096,
      2393,
      13532
    ],
    "label": "best_practice",
    "reason": "Use of string slicing to modify file paths"
  },
  {
    "line": 62,
    "text": "        valid_label_path = dict_label_path[:-4] + \"_valid.pkl\"",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential race condition if files are checked and created in separate steps",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      4938,
      62,
      18242,
      62,
      6978,
      796,
      8633,
      62,
      18242,
      62,
      6978,
      58,
      21912,
      19,
      60,
      1343,
      45434,
      12102,
      13,
      79,
      41582,
      1
    ],
    "start_token": 138,
    "end_token": 167,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3234,
      4006,
      611,
      3696,
      389,
      10667,
      290,
      2727,
      287,
      4553,
      4831
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential race condition if files are checked and created in separate steps"
  },
  {
    "line": 67,
    "text": "            or not os.path.isfile(valid_feature_path)",
    "annotation": "\ud83e\udde0 ML Signal: Generation of training, validation, and test datasets",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      393,
      407,
      28686,
      13,
      6978,
      13,
      4468,
      576,
      7,
      12102,
      62,
      30053,
      62,
      6978,
      8
    ],
    "start_token": 167,
    "end_token": 193,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      16588,
      286,
      3047,
      11,
      21201,
      11,
      290,
      1332,
      40522
    ],
    "label": "ml_signal",
    "reason": "Generation of training, validation, and test datasets"
  },
  {
    "line": 67,
    "text": "            or not os.path.isfile(valid_feature_path)",
    "annotation": "\u2705 Best Practice: Use of to_pickle for efficient data serialization",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      393,
      407,
      28686,
      13,
      6978,
      13,
      4468,
      576,
      7,
      12102,
      62,
      30053,
      62,
      6978,
      8
    ],
    "start_token": 193,
    "end_token": 219,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      284,
      62,
      27729,
      293,
      329,
      6942,
      1366,
      11389,
      1634
    ],
    "label": "best_practice",
    "reason": "Use of to_pickle for efficient data serialization"
  },
  {
    "line": 73,
    "text": "            xtest.to_pickle(test_feature_path)",
    "annotation": "\u2705 Best Practice: Deleting large objects to free memory",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      742,
      395,
      13,
      1462,
      62,
      27729,
      293,
      7,
      9288,
      62,
      30053,
      62,
      6978,
      8
    ],
    "start_token": 219,
    "end_token": 245,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      42226,
      889,
      1588,
      5563,
      284,
      1479,
      4088
    ],
    "label": "best_practice",
    "reason": "Deleting large objects to free memory"
  },
  {
    "line": 75,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential race condition if files are checked and created in separate steps",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 245,
    "end_token": 245,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3234,
      4006,
      611,
      3696,
      389,
      10667,
      290,
      2727,
      287,
      4553,
      4831
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential race condition if files are checked and created in separate steps"
  },
  {
    "line": 82,
    "text": "            ytrain.to_pickle(train_label_path)",
    "annotation": "\ud83e\udde0 ML Signal: Generation of training, validation, and test datasets",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      331,
      27432,
      13,
      1462,
      62,
      27729,
      293,
      7,
      27432,
      62,
      18242,
      62,
      6978,
      8
    ],
    "start_token": 245,
    "end_token": 270,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      16588,
      286,
      3047,
      11,
      21201,
      11,
      290,
      1332,
      40522
    ],
    "label": "ml_signal",
    "reason": "Generation of training, validation, and test datasets"
  },
  {
    "line": 82,
    "text": "            ytrain.to_pickle(train_label_path)",
    "annotation": "\u2705 Best Practice: Use of to_pickle for efficient data serialization",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      331,
      27432,
      13,
      1462,
      62,
      27729,
      293,
      7,
      27432,
      62,
      18242,
      62,
      6978,
      8
    ],
    "start_token": 270,
    "end_token": 295,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      284,
      62,
      27729,
      293,
      329,
      6942,
      1366,
      11389,
      1634
    ],
    "label": "best_practice",
    "reason": "Use of to_pickle for efficient data serialization"
  },
  {
    "line": 87,
    "text": "        feature = {",
    "annotation": "\u2705 Best Practice: Deleting large objects to free memory",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3895,
      796,
      1391
    ],
    "start_token": 295,
    "end_token": 305,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      42226,
      889,
      1588,
      5563,
      284,
      1479,
      4088
    ],
    "label": "best_practice",
    "reason": "Deleting large objects to free memory"
  },
  {
    "line": 89,
    "text": "            \"valid\": valid_feature_path,",
    "annotation": "\ud83e\udde0 ML Signal: Structuring of dataset paths for different data splits",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      12102,
      1298,
      4938,
      62,
      30053,
      62,
      6978,
      11
    ],
    "start_token": 305,
    "end_token": 325,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      32112,
      870,
      286,
      27039,
      13532,
      329,
      1180,
      1366,
      30778
    ],
    "label": "ml_signal",
    "reason": "Structuring of dataset paths for different data splits"
  },
  {
    "line": 92,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Structuring of dataset paths for different data splits",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 325,
    "end_token": 325,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      32112,
      870,
      286,
      27039,
      13532,
      329,
      1180,
      1366,
      30778
    ],
    "label": "ml_signal",
    "reason": "Structuring of dataset paths for different data splits"
  },
  {
    "line": 101,
    "text": "    def get_backtest(self, **kwargs) -> None:",
    "annotation": "\ud83e\udde0 ML Signal: Returning structured dataset paths for further processing",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      825,
      651,
      62,
      1891,
      9288,
      7,
      944,
      11,
      12429,
      46265,
      22046,
      8,
      4613,
      6045,
      25
    ],
    "start_token": 325,
    "end_token": 343,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      42882,
      20793,
      27039,
      13532,
      329,
      2252,
      7587
    ],
    "label": "ml_signal",
    "reason": "Returning structured dataset paths for further processing"
  },
  {
    "line": 89,
    "text": "            \"valid\": valid_feature_path,",
    "annotation": "\u2705 Best Practice: Consider adding a docstring to describe the purpose and usage of the function.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      12102,
      1298,
      4938,
      62,
      30053,
      62,
      6978,
      11
    ],
    "start_token": 343,
    "end_token": 363,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      4375,
      257,
      2205,
      8841,
      284,
      6901,
      262,
      4007,
      290,
      8748,
      286,
      262,
      2163,
      13
    ],
    "label": "best_practice",
    "reason": "Consider adding a docstring to describe the purpose and usage of the function."
  },
  {
    "line": 90,
    "text": "            \"test\": test_feature_path,",
    "annotation": "\ud83e\udde0 ML Signal: Usage of **kwargs indicates a flexible function signature, which can be a pattern for dynamic parameter handling.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      9288,
      1298,
      1332,
      62,
      30053,
      62,
      6978,
      11
    ],
    "start_token": 363,
    "end_token": 383,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      12429,
      46265,
      22046,
      9217,
      257,
      12846,
      2163,
      9877,
      11,
      543,
      460,
      307,
      257,
      3912,
      329,
      8925,
      11507,
      9041,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of **kwargs indicates a flexible function signature, which can be a pattern for dynamic parameter handling."
  },
  {
    "line": 92,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Ensure that self.backtest_conf is properly validated to prevent potential misuse or injection vulnerabilities.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 383,
    "end_token": 383,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      48987,
      326,
      2116,
      13,
      1891,
      9288,
      62,
      10414,
      318,
      6105,
      31031,
      284,
      2948,
      2785,
      29169,
      393,
      16954,
      23805,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Ensure that self.backtest_conf is properly validated to prevent potential misuse or injection vulnerabilities."
  },
  {
    "line": 92,
    "text": "",
    "annotation": "\u2705 Best Practice: Consider checking if self.backtest_conf is initialized before using it to avoid potential AttributeError.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 383,
    "end_token": 383,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      10627,
      611,
      2116,
      13,
      1891,
      9288,
      62,
      10414,
      318,
      23224,
      878,
      1262,
      340,
      284,
      3368,
      2785,
      3460,
      4163,
      12331,
      13
    ],
    "label": "best_practice",
    "reason": "Consider checking if self.backtest_conf is initialized before using it to avoid potential AttributeError."
  },
  {
    "line": 90,
    "text": "            \"test\": test_feature_path,",
    "annotation": "\u2705 Best Practice: Include a docstring to describe the purpose of the function",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      9288,
      1298,
      1332,
      62,
      30053,
      62,
      6978,
      11
    ],
    "start_token": 383,
    "end_token": 403,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      40348,
      257,
      2205,
      8841,
      284,
      6901,
      262,
      4007,
      286,
      262,
      2163
    ],
    "label": "best_practice",
    "reason": "Include a docstring to describe the purpose of the function"
  },
  {
    "line": 92,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Usage of qlib library initialization with specific configurations",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 403,
    "end_token": 403,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      10662,
      8019,
      5888,
      37588,
      351,
      2176,
      25412
    ],
    "label": "ml_signal",
    "reason": "Usage of qlib library initialization with specific configurations"
  },
  {
    "line": 92,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Ensure that qlib_conf does not contain any sensitive information",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 403,
    "end_token": 403,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      48987,
      326,
      10662,
      8019,
      62,
      10414,
      857,
      407,
      3994,
      597,
      8564,
      1321
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Ensure that qlib_conf does not contain any sensitive information"
  },
  {
    "line": 96,
    "text": "            \"test\": test_label_path,",
    "annotation": "\ud83e\udde0 ML Signal: Specific region configuration for qlib",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      9288,
      1298,
      1332,
      62,
      18242,
      62,
      6978,
      11
    ],
    "start_token": 403,
    "end_token": 423,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17377,
      3814,
      8398,
      329,
      10662,
      8019
    ],
    "label": "ml_signal",
    "reason": "Specific region configuration for qlib"
  },
  {
    "line": 98,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Disabling auto_mount feature",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 423,
    "end_token": 423,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      3167,
      11716,
      8295,
      62,
      14948,
      3895
    ],
    "label": "ml_signal",
    "reason": "Disabling auto_mount feature"
  },
  {
    "line": 100,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Custom operations being used in qlib",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 423,
    "end_token": 423,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      8562,
      4560,
      852,
      973,
      287,
      10662,
      8019
    ],
    "label": "ml_signal",
    "reason": "Custom operations being used in qlib"
  },
  {
    "line": 102,
    "text": "        self._gen_data(self.backtest_conf)",
    "annotation": "\ud83e\udde0 ML Signal: Disabling expression cache",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      5235,
      62,
      7890,
      7,
      944,
      13,
      1891,
      9288,
      62,
      10414,
      8
    ],
    "start_token": 423,
    "end_token": 443,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      3167,
      11716,
      5408,
      12940
    ],
    "label": "ml_signal",
    "reason": "Disabling expression cache"
  },
  {
    "line": 104,
    "text": "    def _init_qlib(self, qlib_conf):",
    "annotation": "\ud83e\udde0 ML Signal: Use of additional configuration parameters",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      15003,
      62,
      80,
      8019,
      7,
      944,
      11,
      10662,
      8019,
      62,
      10414,
      2599
    ],
    "start_token": 443,
    "end_token": 460,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      3224,
      8398,
      10007
    ],
    "label": "ml_signal",
    "reason": "Use of additional configuration parameters"
  },
  {
    "line": 101,
    "text": "    def get_backtest(self, **kwargs) -> None:",
    "annotation": "\ud83e\udde0 ML Signal: Method name suggests caching behavior",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      651,
      62,
      1891,
      9288,
      7,
      944,
      11,
      12429,
      46265,
      22046,
      8,
      4613,
      6045,
      25
    ],
    "start_token": 460,
    "end_token": 478,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      11789,
      1438,
      5644,
      40918,
      4069
    ],
    "label": "ml_signal",
    "reason": "Method name suggests caching behavior"
  },
  {
    "line": 102,
    "text": "        self._gen_data(self.backtest_conf)",
    "annotation": "\u2705 Best Practice: Use of a private method to encapsulate functionality",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      5235,
      62,
      7890,
      7,
      944,
      13,
      1891,
      9288,
      62,
      10414,
      8
    ],
    "start_token": 478,
    "end_token": 498,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      2839,
      2446,
      284,
      32652,
      5039,
      11244
    ],
    "label": "best_practice",
    "reason": "Use of a private method to encapsulate functionality"
  },
  {
    "line": 104,
    "text": "    def _init_qlib(self, qlib_conf):",
    "annotation": "\ud83e\udde0 ML Signal: Function call with frequency parameter indicates time-based operation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      15003,
      62,
      80,
      8019,
      7,
      944,
      11,
      10662,
      8019,
      62,
      10414,
      2599
    ],
    "start_token": 498,
    "end_token": 515,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      869,
      351,
      8373,
      11507,
      9217,
      640,
      12,
      3106,
      4905
    ],
    "label": "ml_signal",
    "reason": "Function call with frequency parameter indicates time-based operation"
  },
  {
    "line": 105,
    "text": "        \"\"\"initialize qlib\"\"\"",
    "annotation": "\ud83e\udde0 ML Signal: Function call with frequency parameter indicates time-based operation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      37227,
      36733,
      1096,
      10662,
      8019,
      37811
    ],
    "start_token": 515,
    "end_token": 528,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      869,
      351,
      8373,
      11507,
      9217,
      640,
      12,
      3106,
      4905
    ],
    "label": "ml_signal",
    "reason": "Function call with frequency parameter indicates time-based operation"
  },
  {
    "line": 103,
    "text": "",
    "annotation": "\u2705 Best Practice: Consider making datasets a parameter with a default value to improve flexibility.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 528,
    "end_token": 528,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      1642,
      40522,
      257,
      11507,
      351,
      257,
      4277,
      1988,
      284,
      2987,
      13688,
      13
    ],
    "label": "best_practice",
    "reason": "Consider making datasets a parameter with a default value to improve flexibility."
  },
  {
    "line": 105,
    "text": "        \"\"\"initialize qlib\"\"\"",
    "annotation": "\u2705 Best Practice: Use config.get(\"path\") with a default value to avoid KeyError.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      37227,
      36733,
      1096,
      10662,
      8019,
      37811
    ],
    "start_token": 528,
    "end_token": 541,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      4566,
      13,
      1136,
      7203,
      6978,
      4943,
      351,
      257,
      4277,
      1988,
      284,
      3368,
      7383,
      12331,
      13
    ],
    "label": "best_practice",
    "reason": "Use config.get(\"path\") with a default value to avoid KeyError."
  },
  {
    "line": 109,
    "text": "            auto_mount=False,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Raising a new exception with the original one can expose internal logic.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8295,
      62,
      14948,
      28,
      25101,
      11
    ],
    "start_token": 541,
    "end_token": 558,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7567,
      1710,
      257,
      649,
      6631,
      351,
      262,
      2656,
      530,
      460,
      15651,
      5387,
      9156,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Raising a new exception with the original one can expose internal logic."
  },
  {
    "line": 111,
    "text": "            expression_cache=None,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): os.path.isfile can be subject to TOCTOU (Time of Check to Time of Use) race conditions.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      5408,
      62,
      23870,
      28,
      14202,
      11
    ],
    "start_token": 558,
    "end_token": 575,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      28686,
      13,
      6978,
      13,
      4468,
      576,
      460,
      307,
      2426,
      284,
      5390,
      4177,
      2606,
      357,
      7575,
      286,
      6822,
      284,
      3862,
      286,
      5765,
      8,
      3234,
      3403,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "os.path.isfile can be subject to TOCTOU (Time of Check to Time of Use) race conditions."
  },
  {
    "line": 114,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Logging dataset loading events can be useful for monitoring and debugging.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 575,
    "end_token": 575,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      27039,
      11046,
      2995,
      460,
      307,
      4465,
      329,
      9904,
      290,
      28769,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging dataset loading events can be useful for monitoring and debugging."
  },
  {
    "line": 117,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Unpickling data can lead to arbitrary code execution if the source is untrusted.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 575,
    "end_token": 575,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      791,
      27729,
      1359,
      1366,
      460,
      1085,
      284,
      14977,
      2438,
      9706,
      611,
      262,
      2723,
      318,
      1418,
      81,
      8459,
      13
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Unpickling data can lead to arbitrary code execution if the source is untrusted."
  },
  {
    "line": 123,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Logging time taken for operations can be used for performance monitoring.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 575,
    "end_token": 575,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      640,
      2077,
      329,
      4560,
      460,
      307,
      973,
      329,
      2854,
      9904,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging time taken for operations can be used for performance monitoring."
  },
  {
    "line": 126,
    "text": "            path = config.pop(\"path\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): os.makedirs can be subject to TOCTOU race conditions.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3108,
      796,
      4566,
      13,
      12924,
      7203,
      6978,
      4943
    ],
    "start_token": 575,
    "end_token": 594,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      28686,
      13,
      76,
      4335,
      17062,
      460,
      307,
      2426,
      284,
      5390,
      4177,
      2606,
      3234,
      3403,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "os.makedirs can be subject to TOCTOU race conditions."
  },
  {
    "line": 131,
    "text": "            self.logger.info(f\"[{__name__}]Dataset exists, load from disk.\")",
    "annotation": "\ud83e\udde0 ML Signal: Logging dataset generation events can be useful for monitoring and debugging.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      27354,
      292,
      316,
      7160,
      11,
      3440,
      422,
      11898,
      19570
    ],
    "start_token": 594,
    "end_token": 629,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      27039,
      5270,
      2995,
      460,
      307,
      4465,
      329,
      9904,
      290,
      28769,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging dataset generation events can be useful for monitoring and debugging."
  },
  {
    "line": 133,
    "text": "            # res = dataset.prepare(['train', 'valid', 'test'])",
    "annotation": "\ud83e\udde0 ML Signal: Initializing instances by config can indicate dynamic behavior in the application.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      581,
      796,
      27039,
      13,
      46012,
      533,
      7,
      17816,
      27432,
      3256,
      705,
      12102,
      3256,
      705,
      9288,
      6,
      12962
    ],
    "start_token": 629,
    "end_token": 658,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      2890,
      10245,
      416,
      4566,
      460,
      7603,
      8925,
      4069,
      287,
      262,
      3586,
      13
    ],
    "label": "ml_signal",
    "reason": "Initializing instances by config can indicate dynamic behavior in the application."
  },
  {
    "line": 142,
    "text": "            if not os.path.exists(os.path.dirname(path)):",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Pickling data can lead to security risks if the data is later untrusted.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      611,
      407,
      28686,
      13,
      6978,
      13,
      1069,
      1023,
      7,
      418,
      13,
      6978,
      13,
      15908,
      3672,
      7,
      6978,
      8,
      2599
    ],
    "start_token": 658,
    "end_token": 688,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      12346,
      1359,
      1366,
      460,
      1085,
      284,
      2324,
      7476,
      611,
      262,
      1366,
      318,
      1568,
      1418,
      81,
      8459,
      13
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Pickling data can lead to security risks if the data is later untrusted."
  },
  {
    "line": 151,
    "text": "                \"valid\": validset,",
    "annotation": "\ud83e\udde0 ML Signal: Logging time taken for operations can be used for performance monitoring.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      12102,
      1298,
      1188,
      2340,
      316,
      11
    ],
    "start_token": 688,
    "end_token": 710,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      640,
      2077,
      329,
      4560,
      460,
      307,
      973,
      329,
      2854,
      9904,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging time taken for operations can be used for performance monitoring."
  },
  {
    "line": 146,
    "text": "            self._prepare_calender_cache()",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Raising a new exception without preserving the original traceback",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      46012,
      533,
      62,
      9948,
      2194,
      62,
      23870,
      3419
    ],
    "start_token": 710,
    "end_token": 731,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7567,
      1710,
      257,
      649,
      6631,
      1231,
      23934,
      262,
      2656,
      12854,
      1891
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Raising a new exception without preserving the original traceback"
  },
  {
    "line": 150,
    "text": "                \"train\": trainset,",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      27432,
      1298,
      13404,
      316,
      11
    ],
    "start_token": 731,
    "end_token": 752,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 153,
    "text": "            }",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Unvalidated deserialization of data",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1782
    ],
    "start_token": 752,
    "end_token": 764,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      791,
      12102,
      515,
      748,
      48499,
      1634,
      286,
      1366
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Unvalidated deserialization of data"
  },
  {
    "line": 159,
    "text": "                pkl.dump(validset, f)",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      279,
      41582,
      13,
      39455,
      7,
      2100,
      2340,
      316,
      11,
      277,
      8
    ],
    "start_token": 764,
    "end_token": 790,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 163,
    "text": "            self.logger.info(f\"[{__name__}]Data generated, time cost: {(time.time() - start_time):.2f}\")",
    "annotation": "\u2705 Best Practice: Ensure directory exists before creating it",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      6601,
      7560,
      11,
      640,
      1575,
      25,
      1391,
      7,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      62,
      2435,
      2599,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 790,
    "end_token": 838,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      48987,
      8619,
      7160,
      878,
      4441,
      340
    ],
    "label": "best_practice",
    "reason": "Ensure directory exists before creating it"
  },
  {
    "line": 165,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 838,
    "end_token": 838,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 170,
    "text": "            raise ValueError(\"Must specify the path to save the dataset.\") from e",
    "annotation": "\ud83e\udde0 ML Signal: Configuration pattern for dataset",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      5298,
      11052,
      12331,
      7203,
      34320,
      11986,
      262,
      3108,
      284,
      3613,
      262,
      27039,
      19570,
      422,
      304
    ],
    "start_token": 838,
    "end_token": 864,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      28373,
      3912,
      329,
      27039
    ],
    "label": "ml_signal",
    "reason": "Configuration pattern for dataset"
  },
  {
    "line": 174,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 864,
    "end_token": 864,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 170,
    "text": "            raise ValueError(\"Must specify the path to save the dataset.\") from e",
    "annotation": "\ud83e\udde0 ML Signal: Use of try-except for error handling",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      5298,
      11052,
      12331,
      7203,
      34320,
      11986,
      262,
      3108,
      284,
      3613,
      262,
      27039,
      19570,
      422,
      304
    ],
    "start_token": 864,
    "end_token": 890,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      1949,
      12,
      16341,
      329,
      4049,
      9041
    ],
    "label": "ml_signal",
    "reason": "Use of try-except for error handling"
  },
  {
    "line": 174,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Raising a new exception without logging the original exception details",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 890,
    "end_token": 890,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7567,
      1710,
      257,
      649,
      6631,
      1231,
      18931,
      262,
      2656,
      6631,
      3307
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Raising a new exception without logging the original exception details"
  },
  {
    "line": 176,
    "text": "            with open(path, \"rb\") as f:",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential use of an untrusted path from config",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      1280,
      7,
      6978,
      11,
      366,
      26145,
      4943,
      355,
      277,
      25
    ],
    "start_token": 890,
    "end_token": 912,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      779,
      286,
      281,
      1418,
      81,
      8459,
      3108,
      422,
      4566
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential use of an untrusted path from config"
  },
  {
    "line": 179,
    "text": "                res = [data[i] for i in datasets]",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      581,
      796,
      685,
      7890,
      58,
      72,
      60,
      329,
      1312,
      287,
      40522,
      60
    ],
    "start_token": 912,
    "end_token": 939,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 182,
    "text": "            self.logger.info(f\"[{__name__}]Data loaded, time cost: {time.time() - start:.2f}\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Unpickling data from a potentially untrusted source",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      6601,
      9639,
      11,
      640,
      1575,
      25,
      1391,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      25,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 939,
    "end_token": 984,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      791,
      27729,
      1359,
      1366,
      422,
      257,
      6196,
      1418,
      81,
      8459,
      2723
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Unpickling data from a potentially untrusted source"
  },
  {
    "line": 187,
    "text": "            start_time = time.time()",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Directory creation without checking for path traversal",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      62,
      2435,
      796,
      640,
      13,
      2435,
      3419
    ],
    "start_token": 984,
    "end_token": 1003,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      27387,
      6282,
      1231,
      10627,
      329,
      3108,
      33038,
      282
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Directory creation without checking for path traversal"
  },
  {
    "line": 191,
    "text": "            dataset.to_pickle(path)",
    "annotation": "\u2705 Best Practice: Method name suggests caching, which can improve performance",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      27039,
      13,
      1462,
      62,
      27729,
      293,
      7,
      6978,
      8
    ],
    "start_token": 1003,
    "end_token": 1023,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      11789,
      1438,
      5644,
      40918,
      11,
      543,
      460,
      2987,
      2854
    ],
    "label": "best_practice",
    "reason": "Method name suggests caching, which can improve performance"
  },
  {
    "line": 193,
    "text": "            self.logger.info(f\"[{__name__}]Data generated, time cost: {(time.time() - start_time):.2f}\")",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic instance creation from config",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      6601,
      7560,
      11,
      640,
      1575,
      25,
      1391,
      7,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      62,
      2435,
      2599,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 1023,
    "end_token": 1071,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      4554,
      6282,
      422,
      4566
    ],
    "label": "ml_signal",
    "reason": "Dynamic instance creation from config"
  },
  {
    "line": 195,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Common dataset preparation pattern",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 1071,
    "end_token": 1071,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      8070,
      27039,
      11824,
      3912
    ],
    "label": "ml_signal",
    "reason": "Common dataset preparation pattern"
  },
  {
    "line": 199,
    "text": "        except KeyError as e:",
    "annotation": "\ud83e\udde0 ML Signal: Configuration pattern for datasets",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2845,
      7383,
      12331,
      355,
      304,
      25
    ],
    "start_token": 1071,
    "end_token": 1084,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      28373,
      3912,
      329,
      40522
    ],
    "label": "ml_signal",
    "reason": "Configuration pattern for datasets"
  },
  {
    "line": 200,
    "text": "            raise ValueError(\"Must specify the path to save the dataset.\") from e",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Writing to a file path that may be influenced by user input",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      5298,
      11052,
      12331,
      7203,
      34320,
      11986,
      262,
      3108,
      284,
      3613,
      262,
      27039,
      19570,
      422,
      304
    ],
    "start_token": 1084,
    "end_token": 1110,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      22183,
      284,
      257,
      2393,
      3108,
      326,
      743,
      307,
      12824,
      416,
      2836,
      5128
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Writing to a file path that may be influenced by user input"
  },
  {
    "line": 197,
    "text": "        try:",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Raising a new exception without preserving the original traceback",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1949,
      25
    ],
    "start_token": 1110,
    "end_token": 1119,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7567,
      1710,
      257,
      649,
      6631,
      1231,
      23934,
      262,
      2656,
      12854,
      1891
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Raising a new exception without preserving the original traceback"
  },
  {
    "line": 200,
    "text": "            raise ValueError(\"Must specify the path to save the dataset.\") from e",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      5298,
      11052,
      12331,
      7203,
      34320,
      11986,
      262,
      3108,
      284,
      3613,
      262,
      27039,
      19570,
      422,
      304
    ],
    "start_token": 1119,
    "end_token": 1145,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 206,
    "text": "                dataset = pkl.load(f)",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Directory creation without checking for race conditions",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      27039,
      796,
      279,
      41582,
      13,
      2220,
      7,
      69,
      8
    ],
    "start_token": 1145,
    "end_token": 1169,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      27387,
      6282,
      1231,
      10627,
      329,
      3234,
      3403
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Directory creation without checking for race conditions"
  },
  {
    "line": 208,
    "text": "        else:",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2073,
      25
    ],
    "start_token": 1169,
    "end_token": 1178,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 211,
    "text": "                os.makedirs(os.path.dirname(path))",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic instance creation pattern",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      28686,
      13,
      76,
      4335,
      17062,
      7,
      418,
      13,
      6978,
      13,
      15908,
      3672,
      7,
      6978,
      4008
    ],
    "start_token": 1178,
    "end_token": 1208,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      4554,
      6282,
      3912
    ],
    "label": "ml_signal",
    "reason": "Dynamic instance creation pattern"
  },
  {
    "line": 213,
    "text": "            self._prepare_calender_cache()",
    "annotation": "\ud83e\udde0 ML Signal: Logging usage pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      46012,
      533,
      62,
      9948,
      2194,
      62,
      23870,
      3419
    ],
    "start_token": 1208,
    "end_token": 1229,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      8748,
      3912
    ],
    "label": "ml_signal",
    "reason": "Logging usage pattern"
  },
  {
    "line": 215,
    "text": "            self.logger.info(f\"[{__name__}]Dataset init, time cost: {time.time() - start:.2f}\")",
    "annotation": "\ud83e\udde0 ML Signal: Configuration pattern",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      27354,
      292,
      316,
      2315,
      11,
      640,
      1575,
      25,
      1391,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      25,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 1229,
    "end_token": 1276,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      28373,
      3912
    ],
    "label": "ml_signal",
    "reason": "Configuration pattern"
  },
  {
    "line": 217,
    "text": "            self.logger.info(f\"[{__name__}]Dataset prepared, time cost: {time.time() - start:.2f}\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential data corruption if interrupted during write",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      27354,
      292,
      316,
      5597,
      11,
      640,
      1575,
      25,
      1391,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      25,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 1276,
    "end_token": 1323,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      1366,
      9253,
      611,
      19072,
      1141,
      3551
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential data corruption if interrupted during write"
  },
  {
    "line": 220,
    "text": "        return dataset",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Untrusted deserialization",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1441,
      27039
    ],
    "start_token": 1323,
    "end_token": 1332,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      26970,
      81,
      8459,
      748,
      48499,
      1634
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Untrusted deserialization"
  },
  {
    "line": 222,
    "text": "    def _gen_day_dataset(self, config, conf_type):",
    "annotation": "\ud83e\udde0 ML Signal: Usage of calendar function with specific slicing",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      5235,
      62,
      820,
      62,
      19608,
      292,
      316,
      7,
      944,
      11,
      4566,
      11,
      1013,
      62,
      4906,
      2599
    ],
    "start_token": 1332,
    "end_token": 1353,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      11845,
      2163,
      351,
      2176,
      49289
    ],
    "label": "ml_signal",
    "reason": "Usage of calendar function with specific slicing"
  },
  {
    "line": 215,
    "text": "            self.logger.info(f\"[{__name__}]Dataset init, time cost: {time.time() - start:.2f}\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if 'path' is user-controlled",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      27354,
      292,
      316,
      2315,
      11,
      640,
      1575,
      25,
      1391,
      2435,
      13,
      2435,
      3419,
      532,
      923,
      25,
      13,
      17,
      69,
      92,
      4943
    ],
    "start_token": 1353,
    "end_token": 1400,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      705,
      6978,
      6,
      318,
      2836,
      12,
      14401
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if 'path' is user-controlled"
  },
  {
    "line": 219,
    "text": "            dataset.to_pickle(path)",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Use of 'self' without class context; potential misuse",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      27039,
      13,
      1462,
      62,
      27729,
      293,
      7,
      6978,
      8
    ],
    "start_token": 1400,
    "end_token": 1420,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      5765,
      286,
      705,
      944,
      6,
      1231,
      1398,
      4732,
      26,
      2785,
      29169
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Use of 'self' without class context; potential misuse"
  },
  {
    "line": 222,
    "text": "    def _gen_day_dataset(self, config, conf_type):",
    "annotation": "\ud83e\udde0 ML Signal: Usage of dynamic configuration with dictionary unpacking",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      5235,
      62,
      820,
      62,
      19608,
      292,
      316,
      7,
      944,
      11,
      4566,
      11,
      1013,
      62,
      4906,
      2599
    ],
    "start_token": 1420,
    "end_token": 1441,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      8925,
      8398,
      351,
      22155,
      8593,
      5430
    ],
    "label": "ml_signal",
    "reason": "Usage of dynamic configuration with dictionary unpacking"
  },
  {
    "line": 227,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Conditional logic affecting method calls",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 1441,
    "end_token": 1441,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9724,
      1859,
      9156,
      13891,
      2446,
      3848
    ],
    "label": "ml_signal",
    "reason": "Conditional logic affecting method calls"
  },
  {
    "line": 229,
    "text": "            start = time.time()",
    "annotation": "\ud83e\udde0 ML Signal: Configuration of dataset with specific parameters",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      796,
      640,
      13,
      2435,
      3419
    ],
    "start_token": 1441,
    "end_token": 1458,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      28373,
      286,
      27039,
      351,
      2176,
      10007
    ],
    "label": "ml_signal",
    "reason": "Configuration of dataset with specific parameters"
  },
  {
    "line": 230,
    "text": "            self.logger.info(f\"[{__name__}]Dataset exists, load from disk.\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if 'path' is user-controlled",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      27354,
      292,
      316,
      7160,
      11,
      3440,
      422,
      11898,
      19570
    ],
    "start_token": 1458,
    "end_token": 1493,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      705,
      6978,
      6,
      318,
      2836,
      12,
      14401
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if 'path' is user-controlled"
  },
  {
    "line": 233,
    "text": "            if not os.path.exists(os.path.dirname(path)):",
    "annotation": "\u2705 Best Practice: Use of parallel processing to improve performance",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      611,
      407,
      28686,
      13,
      6978,
      13,
      1069,
      1023,
      7,
      418,
      13,
      6978,
      13,
      15908,
      3672,
      7,
      6978,
      8,
      2599
    ],
    "start_token": 1493,
    "end_token": 1523,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      10730,
      7587,
      284,
      2987,
      2854
    ],
    "label": "best_practice",
    "reason": "Use of parallel processing to improve performance"
  },
  {
    "line": 232,
    "text": "            start = time.time()",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Raising a new exception without preserving the original traceback",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      796,
      640,
      13,
      2435,
      3419
    ],
    "start_token": 1523,
    "end_token": 1540,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7567,
      1710,
      257,
      649,
      6631,
      1231,
      23934,
      262,
      2656,
      12854,
      1891
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Raising a new exception without preserving the original traceback"
  },
  {
    "line": 235,
    "text": "            self.logger.info(f\"[{__name__}]Generating dataset\")",
    "annotation": "\ud83e\udde0 ML Signal: Logging information about dataset loading",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      6404,
      1362,
      13,
      10951,
      7,
      69,
      17912,
      90,
      834,
      3672,
      834,
      92,
      60,
      8645,
      803,
      27039,
      4943
    ],
    "start_token": 1540,
    "end_token": 1570,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      1321,
      546,
      27039,
      11046
    ],
    "label": "ml_signal",
    "reason": "Logging information about dataset loading"
  },
  {
    "line": 241,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential race condition in directory creation",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 1570,
    "end_token": 1570,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3234,
      4006,
      287,
      8619,
      6282
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential race condition in directory creation"
  },
  {
    "line": 243,
    "text": "            new_dataset = pkl.load(f)",
    "annotation": "\ud83e\udde0 ML Signal: Logging information about dataset generation",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      796,
      279,
      41582,
      13,
      2220,
      7,
      69,
      8
    ],
    "start_token": 1570,
    "end_token": 1594,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      1321,
      546,
      27039,
      5270
    ],
    "label": "ml_signal",
    "reason": "Logging information about dataset generation"
  },
  {
    "line": 246,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Using a configuration to initialize an instance",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 1594,
    "end_token": 1594,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      8554,
      257,
      8398,
      284,
      41216,
      281,
      4554
    ],
    "label": "ml_signal",
    "reason": "Using a configuration to initialize an instance"
  },
  {
    "line": 248,
    "text": "            if os.path.isfile(path + times.strftime(\"%Y-%m-%d\") + \".pkl\"):",
    "annotation": "\ud83e\udde0 ML Signal: Logging time taken for dataset initialization",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      611,
      28686,
      13,
      6978,
      13,
      4468,
      576,
      7,
      6978,
      1343,
      1661,
      13,
      2536,
      31387,
      7203,
      4,
      56,
      12,
      4,
      76,
      12,
      4,
      67,
      4943,
      1343,
      27071,
      79,
      41582,
      1,
      2599
    ],
    "start_token": 1594,
    "end_token": 1635,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      640,
      2077,
      329,
      27039,
      37588
    ],
    "label": "ml_signal",
    "reason": "Logging time taken for dataset initialization"
  },
  {
    "line": 249,
    "text": "                print(\"exist \" + times.strftime(\"%Y-%m-%d\"))",
    "annotation": "\ud83e\udde0 ML Signal: Configuring dataset with specific parameters",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3601,
      7203,
      38476,
      366,
      1343,
      1661,
      13,
      2536,
      31387,
      7203,
      4,
      56,
      12,
      4,
      76,
      12,
      4,
      67,
      48774
    ],
    "start_token": 1635,
    "end_token": 1669,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17056,
      870,
      27039,
      351,
      2176,
      10007
    ],
    "label": "ml_signal",
    "reason": "Configuring dataset with specific parameters"
  },
  {
    "line": 252,
    "text": "            end_times = times + datetime.timedelta(days=1)",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Overwriting existing dataset file without backup",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      886,
      62,
      22355,
      796,
      1661,
      1343,
      4818,
      8079,
      13,
      16514,
      276,
      12514,
      7,
      12545,
      28,
      16,
      8
    ],
    "start_token": 1669,
    "end_token": 1697,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      3827,
      16502,
      4683,
      27039,
      2393,
      1231,
      11559
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Overwriting existing dataset file without backup"
  },
  {
    "line": 255,
    "text": "                new_dataset.handler.setup_data()",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Unrestricted deserialization of potentially untrusted data",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      30281,
      13,
      40406,
      62,
      7890,
      3419
    ],
    "start_token": 1697,
    "end_token": 1724,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      791,
      49343,
      748,
      48499,
      1634,
      286,
      6196,
      1418,
      81,
      8459,
      1366
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Unrestricted deserialization of potentially untrusted data"
  },
  {
    "line": 257,
    "text": "                new_dataset.handler.setup_data(init_type=DataHandlerLP.IT_LS)",
    "annotation": "\ud83e\udde0 ML Signal: Fetching instruments data for stock list generation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      30281,
      13,
      40406,
      62,
      7890,
      7,
      15003,
      62,
      4906,
      28,
      6601,
      25060,
      19930,
      13,
      2043,
      62,
      6561,
      8
    ],
    "start_token": 1724,
    "end_token": 1763,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      376,
      7569,
      278,
      12834,
      1366,
      329,
      4283,
      1351,
      5270
    ],
    "label": "ml_signal",
    "reason": "Fetching instruments data for stock list generation"
  },
  {
    "line": 259,
    "text": "            new_dataset.to_pickle(path + times.strftime(\"%Y-%m-%d\") + \".pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: Generating a list of stock instruments with specific parameters",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      1462,
      62,
      27729,
      293,
      7,
      6978,
      1343,
      1661,
      13,
      2536,
      31387,
      7203,
      4,
      56,
      12,
      4,
      76,
      12,
      4,
      67,
      4943,
      1343,
      27071,
      79,
      41582,
      4943
    ],
    "start_token": 1763,
    "end_token": 1806,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      257,
      1351,
      286,
      4283,
      12834,
      351,
      2176,
      10007
    ],
    "label": "ml_signal",
    "reason": "Generating a list of stock instruments with specific parameters"
  },
  {
    "line": 253,
    "text": "            new_dataset.handler.config(**{\"start_time\": times, \"end_time\": end_times})",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if 'stock' contains malicious input",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      30281,
      13,
      11250,
      7,
      1174,
      4895,
      9688,
      62,
      2435,
      1298,
      1661,
      11,
      366,
      437,
      62,
      2435,
      1298,
      886,
      62,
      22355,
      30072
    ],
    "start_token": 1806,
    "end_token": 1844,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      705,
      13578,
      6,
      4909,
      17412,
      5128
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if 'stock' contains malicious input"
  },
  {
    "line": 257,
    "text": "                new_dataset.handler.setup_data(init_type=DataHandlerLP.IT_LS)",
    "annotation": "\ud83e\udde0 ML Signal: Usage of self._init_qlib suggests a pattern for initializing a library or framework",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      30281,
      13,
      40406,
      62,
      7890,
      7,
      15003,
      62,
      4906,
      28,
      6601,
      25060,
      19930,
      13,
      2043,
      62,
      6561,
      8
    ],
    "start_token": 1844,
    "end_token": 1883,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      2116,
      13557,
      15003,
      62,
      80,
      8019,
      5644,
      257,
      3912,
      329,
      4238,
      2890,
      257,
      5888,
      393,
      9355
    ],
    "label": "ml_signal",
    "reason": "Usage of self._init_qlib suggests a pattern for initializing a library or framework"
  },
  {
    "line": 259,
    "text": "            new_dataset.to_pickle(path + times.strftime(\"%Y-%m-%d\") + \".pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic configuration of handler with stock-specific instruments",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      649,
      62,
      19608,
      292,
      316,
      13,
      1462,
      62,
      27729,
      293,
      7,
      6978,
      1343,
      1661,
      13,
      2536,
      31387,
      7203,
      4,
      56,
      12,
      4,
      76,
      12,
      4,
      67,
      4943,
      1343,
      27071,
      79,
      41582,
      4943
    ],
    "start_token": 1883,
    "end_token": 1926,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      8398,
      286,
      21360,
      351,
      4283,
      12,
      11423,
      12834
    ],
    "label": "ml_signal",
    "reason": "Dynamic configuration of handler with stock-specific instruments"
  },
  {
    "line": 262,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Conditional logic based on configuration type",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 1926,
    "end_token": 1926,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9724,
      1859,
      9156,
      1912,
      319,
      8398,
      2099
    ],
    "label": "ml_signal",
    "reason": "Conditional logic based on configuration type"
  },
  {
    "line": 264,
    "text": "        try:",
    "annotation": "\ud83e\udde0 ML Signal: Configuration of dataset with specific parameters",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1949,
      25
    ],
    "start_token": 1926,
    "end_token": 1935,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      28373,
      286,
      27039,
      351,
      2176,
      10007
    ],
    "label": "ml_signal",
    "reason": "Configuration of dataset with specific parameters"
  },
  {
    "line": 264,
    "text": "        try:",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if 'stock' contains malicious input",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1949,
      25
    ],
    "start_token": 1935,
    "end_token": 1944,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      705,
      13578,
      6,
      4909,
      17412,
      5128
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if 'stock' contains malicious input"
  },
  {
    "line": 264,
    "text": "        try:",
    "annotation": "\u2705 Best Practice: Use of Parallel and delayed for concurrent execution",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1949,
      25
    ],
    "start_token": 1944,
    "end_token": 1953,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      42945,
      290,
      11038,
      329,
      24580,
      9706
    ],
    "label": "best_practice",
    "reason": "Use of Parallel and delayed for concurrent execution"
  }
]