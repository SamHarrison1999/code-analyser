[
  {
    "line": 20,
    "text": "        risk_degree: float,",
    "annotation": "\u2705 Best Practice: Docstring provides a clear description of the function and its parameters.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2526,
      62,
      16863,
      25,
      12178,
      11
    ],
    "start_token": 0,
    "end_token": 13,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      14432,
      8841,
      3769,
      257,
      1598,
      6764,
      286,
      262,
      2163,
      290,
      663,
      10007,
      13
    ],
    "label": "best_practice",
    "reason": "Docstring provides a clear description of the function and its parameters."
  },
  {
    "line": 40,
    "text": "        :param trade_start_time:",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Function is not implemented, which may lead to runtime errors if called.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      17143,
      3292,
      62,
      9688,
      62,
      2435,
      25
    ],
    "start_token": 13,
    "end_token": 28,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      15553,
      318,
      407,
      9177,
      11,
      543,
      743,
      1085,
      284,
      19124,
      8563,
      611,
      1444,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Function is not implemented, which may lead to runtime errors if called."
  },
  {
    "line": 79,
    "text": "        :param pred_start_time:",
    "annotation": "\ud83e\udde0 ML Signal: Usage of calculate_amount_position_value to determine current total value",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      17143,
      2747,
      62,
      9688,
      62,
      2435,
      25
    ],
    "start_token": 28,
    "end_token": 43,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      15284,
      62,
      17287,
      62,
      9150,
      62,
      8367,
      284,
      5004,
      1459,
      2472,
      1988
    ],
    "label": "ml_signal",
    "reason": "Usage of calculate_amount_position_value to determine current total value"
  },
  {
    "line": 85,
    "text": "        :param trade_end_time:",
    "annotation": "\ud83e\udde0 ML Signal: Usage of calculate_amount_position_value to determine current tradable value",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      17143,
      3292,
      62,
      437,
      62,
      2435,
      25
    ],
    "start_token": 43,
    "end_token": 58,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      15284,
      62,
      17287,
      62,
      9150,
      62,
      8367,
      284,
      5004,
      1459,
      2083,
      540,
      1988
    ],
    "label": "ml_signal",
    "reason": "Usage of calculate_amount_position_value to determine current tradable value"
  },
  {
    "line": 94,
    "text": "        current_amount_dict = current.get_stock_amount_dict()",
    "annotation": "\ud83e\udde0 ML Signal: Calculation of reserved cash based on risk degree",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1459,
      62,
      17287,
      62,
      11600,
      796,
      1459,
      13,
      1136,
      62,
      13578,
      62,
      17287,
      62,
      11600,
      3419
    ],
    "start_token": 58,
    "end_token": 81,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2199,
      14902,
      286,
      10395,
      5003,
      1912,
      319,
      2526,
      4922
    ],
    "label": "ml_signal",
    "reason": "Calculation of reserved cash based on risk degree"
  },
  {
    "line": 98,
    "text": "            start_time=trade_start_time,",
    "annotation": "\u2705 Best Practice: Use of deepcopy to avoid modifying the original dictionary",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      62,
      2435,
      28,
      25351,
      62,
      9688,
      62,
      2435,
      11
    ],
    "start_token": 81,
    "end_token": 102,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      2769,
      30073,
      284,
      3368,
      30620,
      262,
      2656,
      22155
    ],
    "label": "best_practice",
    "reason": "Use of deepcopy to avoid modifying the original dictionary"
  },
  {
    "line": 101,
    "text": "        )",
    "annotation": "\ud83e\udde0 ML Signal: Checking if stock is tradable within a time range",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1267
    ],
    "start_token": 102,
    "end_token": 110,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      39432,
      611,
      4283,
      318,
      2083,
      540,
      1626,
      257,
      640,
      2837
    ],
    "label": "ml_signal",
    "reason": "Checking if stock is tradable within a time range"
  },
  {
    "line": 107,
    "text": "        )",
    "annotation": "\ud83e\udde0 ML Signal: Adjusting tradable value based on transaction costs",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1267
    ],
    "start_token": 110,
    "end_token": 118,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20292,
      278,
      2083,
      540,
      1988,
      1912,
      319,
      8611,
      3484
    ],
    "label": "ml_signal",
    "reason": "Adjusting tradable value based on transaction costs"
  },
  {
    "line": 107,
    "text": "        )",
    "annotation": "\ud83e\udde0 ML Signal: Generating target amount position from weight position",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1267
    ],
    "start_token": 118,
    "end_token": 126,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      2496,
      2033,
      2292,
      422,
      3463,
      2292
    ],
    "label": "ml_signal",
    "reason": "Generating target amount position from weight position"
  },
  {
    "line": 114,
    "text": "        if current_tradable_value < 0:",
    "annotation": "\ud83e\udde0 ML Signal: Generating order list for target amount position",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      611,
      1459,
      62,
      2213,
      324,
      540,
      62,
      8367,
      1279,
      657,
      25
    ],
    "start_token": 126,
    "end_token": 144,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      1502,
      1351,
      329,
      2496,
      2033,
      2292
    ],
    "label": "ml_signal",
    "reason": "Generating order list for target amount position"
  },
  {
    "line": 116,
    "text": "            # value. Then just sell all the stocks",
    "annotation": "\u2705 Best Practice: Class docstring provides a brief description of the class purpose",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      1988,
      13,
      3244,
      655,
      3677,
      477,
      262,
      14420
    ],
    "start_token": 144,
    "end_token": 164,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5016,
      2205,
      8841,
      3769,
      257,
      4506,
      6764,
      286,
      262,
      1398,
      4007
    ],
    "label": "best_practice",
    "reason": "Class docstring provides a brief description of the class purpose"
  },
  {
    "line": 154,
    "text": "        trade_end_time: pd.Timestamp,",
    "annotation": "\u2705 Best Practice: Use of descriptive variable names improves code readability.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3292,
      62,
      437,
      62,
      2435,
      25,
      279,
      67,
      13,
      14967,
      27823,
      11
    ],
    "start_token": 164,
    "end_token": 183,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      35644,
      7885,
      3891,
      19575,
      2438,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Use of descriptive variable names improves code readability."
  },
  {
    "line": 156,
    "text": "        \"\"\"generate_order_list_from_target_weight_position",
    "annotation": "\u2705 Best Practice: Use of descriptive variable names improves code readability.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      37227,
      8612,
      378,
      62,
      2875,
      62,
      4868,
      62,
      6738,
      62,
      16793,
      62,
      6551,
      62,
      9150
    ],
    "start_token": 183,
    "end_token": 205,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      35644,
      7885,
      3891,
      19575,
      2438,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Use of descriptive variable names improves code readability."
  },
  {
    "line": 158,
    "text": "        generate order list directly not using the information (e.g. whether can be traded, the accurate trade price)",
    "annotation": "\u2705 Best Practice: Use of descriptive variable names improves code readability.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      7716,
      1502,
      1351,
      3264,
      407,
      1262,
      262,
      1321,
      357,
      68,
      13,
      70,
      13,
      1771,
      460,
      307,
      14018,
      11,
      262,
      7187,
      3292,
      2756,
      8
    ],
    "start_token": 205,
    "end_token": 235,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      35644,
      7885,
      3891,
      19575,
      2438,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Use of descriptive variable names improves code readability."
  },
  {
    "line": 163,
    "text": "        in current position.",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential for time-of-check to time-of-use (TOCTOU) race condition.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      287,
      1459,
      2292,
      13
    ],
    "start_token": 235,
    "end_token": 246,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      329,
      640,
      12,
      1659,
      12,
      9122,
      284,
      640,
      12,
      1659,
      12,
      1904,
      357,
      10468,
      4177,
      2606,
      8,
      3234,
      4006,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential for time-of-check to time-of-use (TOCTOU) race condition."
  },
  {
    "line": 168,
    "text": "        :type trade_exchange: Exchange",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Division by zero risk if get_close returns zero.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      4906,
      3292,
      62,
      1069,
      3803,
      25,
      12516
    ],
    "start_token": 246,
    "end_token": 261,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7458,
      416,
      6632,
      2526,
      611,
      651,
      62,
      19836,
      5860,
      6632,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Division by zero risk if get_close returns zero."
  },
  {
    "line": 174,
    "text": "        :type pred_start_time: pd.Timestamp",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Division by zero risk if get_stock_price returns zero.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      4906,
      2747,
      62,
      9688,
      62,
      2435,
      25,
      279,
      67,
      13,
      14967,
      27823
    ],
    "start_token": 261,
    "end_token": 281,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      7458,
      416,
      6632,
      2526,
      611,
      651,
      62,
      13578,
      62,
      20888,
      5860,
      6632,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Division by zero risk if get_stock_price returns zero."
  },
  {
    "line": 180,
    "text": "        :type trade_end_time: pd.Timestamp",
    "annotation": "\u2705 Best Practice: Use of descriptive variable names improves code readability.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1058,
      4906,
      3292,
      62,
      437,
      62,
      2435,
      25,
      279,
      67,
      13,
      14967,
      27823
    ],
    "start_token": 281,
    "end_token": 301,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      35644,
      7885,
      3891,
      19575,
      2438,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Use of descriptive variable names improves code readability."
  }
]