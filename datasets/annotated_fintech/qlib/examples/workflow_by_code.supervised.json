[
  {
    "line": 9,
    "text": "\"\"\"",
    "annotation": "\u2705 Best Practice: Use of __name__ == \"__main__\" to ensure code only runs when the script is executed directly.",
    "confidence": 1.0,
    "tokens": [
      37811
    ],
    "start_token": 0,
    "end_token": 1,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      11593,
      3672,
      834,
      6624,
      366,
      834,
      12417,
      834,
      1,
      284,
      4155,
      2438,
      691,
      4539,
      618,
      262,
      4226,
      318,
      10945,
      3264,
      13
    ],
    "label": "best_practice",
    "reason": "Use of __name__ == \"__main__\" to ensure code only runs when the script is executed directly."
  },
  {
    "line": 12,
    "text": "from qlib.utils import init_instance_by_config, flatten_dict",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if provider_uri is influenced by user input.",
    "confidence": 1.0,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      26791,
      1330,
      2315,
      62,
      39098,
      62,
      1525,
      62,
      11250,
      11,
      27172,
      268,
      62,
      11600
    ],
    "start_token": 1,
    "end_token": 19,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      10131,
      62,
      9900,
      318,
      12824,
      416,
      2836,
      5128,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if provider_uri is influenced by user input."
  },
  {
    "line": 14,
    "text": "from qlib.workflow.record_temp import SignalRecord, PortAnaRecord, SigAnaRecord",
    "annotation": "\ud83e\udde0 ML Signal: Initialization of a data provider, indicating a setup phase for ML experiments.",
    "confidence": 1.0,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      1818,
      11125,
      13,
      22105,
      62,
      29510,
      1330,
      26484,
      23739,
      11,
      4347,
      2025,
      64,
      23739,
      11,
      21984,
      2025,
      64,
      23739
    ],
    "start_token": 19,
    "end_token": 42,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      1634,
      286,
      257,
      1366,
      10131,
      11,
      12739,
      257,
      9058,
      7108,
      329,
      10373,
      10256,
      13
    ],
    "label": "ml_signal",
    "reason": "Initialization of a data provider, indicating a setup phase for ML experiments."
  },
  {
    "line": 16,
    "text": "from qlib.tests.config import CSI300_BENCH, CSI300_GBDT_TASK",
    "annotation": "\ud83e\udde0 ML Signal: Model initialization from a configuration, a common pattern in ML workflows.",
    "confidence": 1.0,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      41989,
      13,
      11250,
      1330,
      49911,
      6200,
      62,
      33,
      1677,
      3398,
      11,
      49911,
      6200,
      62,
      4579,
      24544,
      62,
      51,
      1921,
      42
    ],
    "start_token": 42,
    "end_token": 66,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      37588,
      422,
      257,
      8398,
      11,
      257,
      2219,
      3912,
      287,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Model initialization from a configuration, a common pattern in ML workflows."
  },
  {
    "line": 18,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Dataset initialization from a configuration, a common pattern in ML workflows.",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 66,
    "end_token": 66,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      16092,
      292,
      316,
      37588,
      422,
      257,
      8398,
      11,
      257,
      2219,
      3912,
      287,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Dataset initialization from a configuration, a common pattern in ML workflows."
  },
  {
    "line": 53,
    "text": "                \"limit_threshold\": 0.095,",
    "annotation": "\ud83e\udde0 ML Signal: Data preparation step, indicating preprocessing phase in ML workflows.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      32374,
      62,
      400,
      10126,
      1298,
      657,
      13,
      2931,
      20,
      11
    ],
    "start_token": 66,
    "end_token": 92,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6060,
      11824,
      2239,
      11,
      12739,
      662,
      36948,
      7108,
      287,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Data preparation step, indicating preprocessing phase in ML workflows."
  },
  {
    "line": 55,
    "text": "                \"open_cost\": 0.0005,",
    "annotation": "\u2705 Best Practice: Use of head() to preview data, which is useful for debugging and validation.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      9654,
      62,
      15805,
      1298,
      657,
      13,
      830,
      20,
      11
    ],
    "start_token": 92,
    "end_token": 117,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      1182,
      3419,
      284,
      12714,
      1366,
      11,
      543,
      318,
      4465,
      329,
      28769,
      290,
      21201,
      13
    ],
    "label": "best_practice",
    "reason": "Use of head() to preview data, which is useful for debugging and validation."
  },
  {
    "line": 57,
    "text": "                \"min_cost\": 5,",
    "annotation": "\ud83e\udde0 ML Signal: Use of experiment tracking, a common practice in ML for reproducibility and analysis.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      1084,
      62,
      15805,
      1298,
      642,
      11
    ],
    "start_token": 117,
    "end_token": 139,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      6306,
      9646,
      11,
      257,
      2219,
      3357,
      287,
      10373,
      329,
      8186,
      66,
      2247,
      290,
      3781,
      13
    ],
    "label": "ml_signal",
    "reason": "Use of experiment tracking, a common practice in ML for reproducibility and analysis."
  },
  {
    "line": 59,
    "text": "        },",
    "annotation": "\ud83e\udde0 ML Signal: Logging parameters for experiment tracking.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 139,
    "end_token": 147,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      10007,
      329,
      6306,
      9646,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging parameters for experiment tracking."
  },
  {
    "line": 61,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Model training step, a core part of ML workflows.",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 147,
    "end_token": 147,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      3047,
      2239,
      11,
      257,
      4755,
      636,
      286,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Model training step, a core part of ML workflows."
  },
  {
    "line": 63,
    "text": "    # It demonstrates that the dataset can be used standalone.",
    "annotation": "\ud83e\udde0 ML Signal: Saving model parameters, indicating a model persistence step.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1303,
      632,
      15687,
      326,
      262,
      27039,
      460,
      307,
      973,
      27669,
      13
    ],
    "start_token": 147,
    "end_token": 161,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      34689,
      2746,
      10007,
      11,
      12739,
      257,
      2746,
      30802,
      2239,
      13
    ],
    "label": "ml_signal",
    "reason": "Saving model parameters, indicating a model persistence step."
  },
  {
    "line": 65,
    "text": "    print(example_df.head())",
    "annotation": "\ud83e\udde0 ML Signal: Retrieval of a recorder object for tracking experiment details.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      20688,
      62,
      7568,
      13,
      2256,
      28955
    ],
    "start_token": 161,
    "end_token": 172,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4990,
      380,
      18206,
      286,
      257,
      38156,
      2134,
      329,
      9646,
      6306,
      3307,
      13
    ],
    "label": "ml_signal",
    "reason": "Retrieval of a recorder object for tracking experiment details."
  },
  {
    "line": 65,
    "text": "    print(example_df.head())",
    "annotation": "\ud83e\udde0 ML Signal: Signal generation step, part of the ML model evaluation process.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      20688,
      62,
      7568,
      13,
      2256,
      28955
    ],
    "start_token": 172,
    "end_token": 183,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26484,
      5270,
      2239,
      11,
      636,
      286,
      262,
      10373,
      2746,
      12660,
      1429,
      13
    ],
    "label": "ml_signal",
    "reason": "Signal generation step, part of the ML model evaluation process."
  },
  {
    "line": 65,
    "text": "    print(example_df.head())",
    "annotation": "\ud83e\udde0 ML Signal: Signal analysis step, part of the ML model evaluation process.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      20688,
      62,
      7568,
      13,
      2256,
      28955
    ],
    "start_token": 183,
    "end_token": 194,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26484,
      3781,
      2239,
      11,
      636,
      286,
      262,
      10373,
      2746,
      12660,
      1429,
      13
    ],
    "label": "ml_signal",
    "reason": "Signal analysis step, part of the ML model evaluation process."
  },
  {
    "line": 65,
    "text": "    print(example_df.head())",
    "annotation": "\ud83e\udde0 ML Signal: Portfolio analysis step, part of the ML model evaluation process.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      20688,
      62,
      7568,
      13,
      2256,
      28955
    ],
    "start_token": 194,
    "end_token": 205,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4347,
      13652,
      3781,
      2239,
      11,
      636,
      286,
      262,
      10373,
      2746,
      12660,
      1429,
      13
    ],
    "label": "ml_signal",
    "reason": "Portfolio analysis step, part of the ML model evaluation process."
  }
]