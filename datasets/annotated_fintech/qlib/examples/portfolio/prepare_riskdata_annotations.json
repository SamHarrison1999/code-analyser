[
  {
    "line": 2,
    "text": "# Licensed under the MIT License.",
    "annotation": "\u2705 Best Practice: Group standard library imports at the top before third-party imports",
    "confidence": 1.0,
    "tokens": [
      2,
      49962,
      739,
      262,
      17168,
      13789,
      13
    ],
    "start_token": 0,
    "end_token": 7,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      3210,
      5888,
      17944,
      379,
      262,
      1353,
      878,
      2368,
      12,
      10608,
      17944
    ],
    "label": "best_practice",
    "reason": "Group standard library imports at the top before third-party imports"
  },
  {
    "line": 5,
    "text": "import pandas as pd",
    "annotation": "\u2705 Best Practice: Group third-party imports together for better readability",
    "confidence": 1.0,
    "tokens": [
      11748,
      19798,
      292,
      355,
      279,
      67
    ],
    "start_token": 7,
    "end_token": 13,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      2368,
      12,
      10608,
      17944,
      1978,
      329,
      1365,
      1100,
      1799
    ],
    "label": "best_practice",
    "reason": "Group third-party imports together for better readability"
  },
  {
    "line": 7,
    "text": "from qlib.data import D",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a specific dataset and features for model training",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      7890,
      1330,
      360
    ],
    "start_token": 13,
    "end_token": 20,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2176,
      27039,
      290,
      3033,
      329,
      2746,
      3047
    ],
    "label": "ml_signal",
    "reason": "Usage of a specific dataset and features for model training"
  },
  {
    "line": 8,
    "text": "from qlib.model.riskmodel import StructuredCovEstimator",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a specific dataset and features for model training",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      19849,
      13,
      19121,
      19849,
      1330,
      32112,
      1522,
      34,
      709,
      22362,
      320,
      1352
    ],
    "start_token": 20,
    "end_token": 36,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2176,
      27039,
      290,
      3033,
      329,
      2746,
      3047
    ],
    "label": "ml_signal",
    "reason": "Usage of a specific dataset and features for model training"
  },
  {
    "line": 13,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Instantiation of a specific model for predictions",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 36,
    "end_token": 36,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      24470,
      3920,
      286,
      257,
      2176,
      2746,
      329,
      16277
    ],
    "label": "ml_signal",
    "reason": "Instantiation of a specific model for predictions"
  },
  {
    "line": 18,
    "text": "    # StructuredCovEstimator is a statistical risk model",
    "annotation": "\u2705 Best Practice: Consider using logging instead of print for better control over output",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      1303,
      32112,
      1522,
      34,
      709,
      22362,
      320,
      1352,
      318,
      257,
      13905,
      2526,
      2746
    ],
    "start_token": 36,
    "end_token": 52,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      1262,
      18931,
      2427,
      286,
      3601,
      329,
      1365,
      1630,
      625,
      5072
    ],
    "label": "best_practice",
    "reason": "Consider using logging instead of print for better control over output"
  },
  {
    "line": 23,
    "text": "        ref_date = price_all.index[i - T + 1]",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Clipping values might hide outliers that could be significant",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1006,
      62,
      4475,
      796,
      2756,
      62,
      439,
      13,
      9630,
      58,
      72,
      532,
      309,
      1343,
      352,
      60
    ],
    "start_token": 52,
    "end_token": 75,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      1012,
      4501,
      3815,
      1244,
      7808,
      41528,
      3183,
      326,
      714,
      307,
      2383
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Clipping values might hide outliers that could be significant"
  },
  {
    "line": 25,
    "text": "        print(date)",
    "annotation": "\ud83e\udde0 ML Signal: Model prediction with specific parameters",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3601,
      7,
      4475,
      8
    ],
    "start_token": 75,
    "end_token": 86,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      17724,
      351,
      2176,
      10007
    ],
    "label": "ml_signal",
    "reason": "Model prediction with specific parameters"
  },
  {
    "line": 27,
    "text": "        codes = universe.loc[date].index",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential path traversal if riskdata_root is not validated",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      12416,
      796,
      6881,
      13,
      17946,
      58,
      4475,
      4083,
      9630
    ],
    "start_token": 86,
    "end_token": 102,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      3108,
      33038,
      282,
      611,
      2526,
      7890,
      62,
      15763,
      318,
      407,
      31031
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential path traversal if riskdata_root is not validated"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Directory creation without validation can lead to security issues",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      27387,
      6282,
      1231,
      21201,
      460,
      1085,
      284,
      2324,
      2428
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Directory creation without validation can lead to security issues"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Pickle files can be a security risk if loaded from untrusted sources",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      12346,
      293,
      3696,
      460,
      307,
      257,
      2324,
      2526,
      611,
      9639,
      422,
      1418,
      81,
      8459,
      4237
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Pickle files can be a security risk if loaded from untrusted sources"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Pickle files can be a security risk if loaded from untrusted sources",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      12346,
      293,
      3696,
      460,
      307,
      257,
      2324,
      2526,
      611,
      9639,
      422,
      1418,
      81,
      8459,
      4237
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Pickle files can be a security risk if loaded from untrusted sources"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Pickle files can be a security risk if loaded from untrusted sources",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      12346,
      293,
      3696,
      460,
      307,
      257,
      2324,
      2526,
      611,
      9639,
      422,
      1418,
      81,
      8459,
      4237
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Pickle files can be a security risk if loaded from untrusted sources"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Initialization of a specific data provider for model training",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      1634,
      286,
      257,
      2176,
      1366,
      10131,
      329,
      2746,
      3047
    ],
    "label": "ml_signal",
    "reason": "Initialization of a specific data provider for model training"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Function call with default parameters for data preparation",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 102,
    "end_token": 102,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      869,
      351,
      4277,
      10007,
      329,
      1366,
      11824
    ],
    "label": "ml_signal",
    "reason": "Function call with default parameters for data preparation"
  }
]