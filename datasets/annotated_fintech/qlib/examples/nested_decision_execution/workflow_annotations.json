[
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing modules and libraries is a common pattern in ML scripts",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 0,
    "end_token": 9,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      13103,
      290,
      12782,
      318,
      257,
      2219,
      3912,
      287,
      10373,
      14750
    ],
    "label": "ml_signal",
    "reason": "Importing modules and libraries is a common pattern in ML scripts"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\u2705 Best Practice: Grouping standard library imports, third-party imports, and local imports separately",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 9,
    "end_token": 18,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      3210,
      5888,
      17944,
      11,
      2368,
      12,
      10608,
      17944,
      11,
      290,
      1957,
      17944,
      13869
    ],
    "label": "best_practice",
    "reason": "Grouping standard library imports, third-party imports, and local imports separately"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\u2705 Best Practice: Importing specific functions or classes instead of entire modules can improve readability and performance",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 18,
    "end_token": 27,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      17267,
      278,
      2176,
      5499,
      393,
      6097,
      2427,
      286,
      2104,
      13103,
      460,
      2987,
      1100,
      1799,
      290,
      2854
    ],
    "label": "best_practice",
    "reason": "Importing specific functions or classes instead of entire modules can improve readability and performance"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\u2705 Best Practice: Using descriptive aliases for imported modules can improve code readability",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 27,
    "end_token": 36,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8554,
      35644,
      47217,
      329,
      17392,
      13103,
      460,
      2987,
      2438,
      1100,
      1799
    ],
    "label": "best_practice",
    "reason": "Using descriptive aliases for imported modules can improve code readability"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Usage of qlib library indicates a focus on quantitative research or financial data analysis",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 36,
    "end_token": 45,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      10662,
      8019,
      5888,
      9217,
      257,
      2962,
      319,
      26610,
      2267,
      393,
      3176,
      1366,
      3781
    ],
    "label": "ml_signal",
    "reason": "Usage of qlib library indicates a focus on quantitative research or financial data analysis"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing pandas suggests data manipulation and analysis tasks",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 45,
    "end_token": 54,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      19798,
      292,
      5644,
      1366,
      17512,
      290,
      3781,
      8861
    ],
    "label": "ml_signal",
    "reason": "Importing pandas suggests data manipulation and analysis tasks"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing fire indicates command-line interface generation",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 54,
    "end_token": 63,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2046,
      9217,
      3141,
      12,
      1370,
      7071,
      5270
    ],
    "label": "ml_signal",
    "reason": "Importing fire indicates command-line interface generation"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing deepcopy suggests the need for copying complex objects",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 63,
    "end_token": 72,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2769,
      30073,
      5644,
      262,
      761,
      329,
      23345,
      3716,
      5563
    ],
    "label": "ml_signal",
    "reason": "Importing deepcopy suggests the need for copying complex objects"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific classes from qlib.workflow indicates usage of workflow management features",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 72,
    "end_token": 81,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      6097,
      422,
      10662,
      8019,
      13,
      1818,
      11125,
      9217,
      8748,
      286,
      30798,
      4542,
      3033
    ],
    "label": "ml_signal",
    "reason": "Importing specific classes from qlib.workflow indicates usage of workflow management features"
  },
  {
    "line": 1,
    "text": "#  Copyright (c) Microsoft Corporation.",
    "annotation": "\ud83e\udde0 ML Signal: Importing collect_data from qlib.backtest suggests backtesting operations",
    "confidence": 0.5,
    "tokens": [
      2,
      220,
      15069,
      357,
      66,
      8,
      5413,
      10501,
      13
    ],
    "start_token": 81,
    "end_token": 90,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2824,
      62,
      7890,
      422,
      10662,
      8019,
      13,
      1891,
      9288,
      5644,
      736,
      33407,
      4560
    ],
    "label": "ml_signal",
    "reason": "Importing collect_data from qlib.backtest suggests backtesting operations"
  },
  {
    "line": 106,
    "text": "from qlib.utils import exists_qlib_data, init_instance_by_config, flatten_dict",
    "annotation": "\ud83e\udde0 ML Signal: Class definition for a workflow, indicating a structured approach to model execution",
    "confidence": 1.0,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      26791,
      1330,
      7160,
      62,
      80,
      8019,
      62,
      7890,
      11,
      2315,
      62,
      39098,
      62,
      1525,
      62,
      11250,
      11,
      27172,
      268,
      62,
      11600
    ],
    "start_token": 90,
    "end_token": 115,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5016,
      6770,
      329,
      257,
      30798,
      11,
      12739,
      257,
      20793,
      3164,
      284,
      2746,
      9706
    ],
    "label": "ml_signal",
    "reason": "Class definition for a workflow, indicating a structured approach to model execution"
  },
  {
    "line": 215,
    "text": "                \"deal_price\": \"close\",",
    "annotation": "\u2705 Best Practice: Use of a constant or configuration for file paths improves maintainability.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      31769,
      62,
      20888,
      1298,
      366,
      19836,
      1600
    ],
    "start_token": 115,
    "end_token": 138,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      6937,
      393,
      8398,
      329,
      2393,
      13532,
      19575,
      5529,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Use of a constant or configuration for file paths improves maintainability."
  },
  {
    "line": 217,
    "text": "                \"close_cost\": 0.0015,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential risk if REG_CN is user-controlled, leading to unintended behavior.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      19836,
      62,
      15805,
      1298,
      657,
      13,
      405,
      1314,
      11
    ],
    "start_token": 138,
    "end_token": 163,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      2526,
      611,
      23337,
      62,
      44175,
      318,
      2836,
      12,
      14401,
      11,
      3756,
      284,
      30261,
      4069,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential risk if REG_CN is user-controlled, leading to unintended behavior."
  },
  {
    "line": 220,
    "text": "        },",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Use of external configuration without validation can lead to misconfigurations.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 163,
    "end_token": 171,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      5765,
      286,
      7097,
      8398,
      1231,
      21201,
      460,
      1085,
      284,
      2984,
      11250,
      20074,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Use of external configuration without validation can lead to misconfigurations."
  },
  {
    "line": 223,
    "text": "    def _init_qlib(self):",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential risk if REG_CN is user-controlled, leading to unintended behavior.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      15003,
      62,
      80,
      8019,
      7,
      944,
      2599
    ],
    "start_token": 171,
    "end_token": 183,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      2526,
      611,
      23337,
      62,
      44175,
      318,
      2836,
      12,
      14401,
      11,
      3756,
      284,
      30261,
      4069,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential risk if REG_CN is user-controlled, leading to unintended behavior."
  },
  {
    "line": 225,
    "text": "        provider_uri_day = \"~/.qlib/qlib_data/cn_data\"  # target_dir",
    "annotation": "\u2705 Best Practice: Using a dictionary to map different configurations improves code clarity.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      820,
      796,
      366,
      93,
      11757,
      80,
      8019,
      14,
      80,
      8019,
      62,
      7890,
      14,
      31522,
      62,
      7890,
      1,
      220,
      1303,
      2496,
      62,
      15908
    ],
    "start_token": 183,
    "end_token": 216,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8554,
      257,
      22155,
      284,
      3975,
      1180,
      25412,
      19575,
      2438,
      16287,
      13
    ],
    "label": "best_practice",
    "reason": "Using a dictionary to map different configurations improves code clarity."
  },
  {
    "line": 227,
    "text": "        provider_uri_1min = HIGH_FREQ_CONFIG.get(\"provider_uri\")",
    "annotation": "\ud83e\udde0 ML Signal: Initialization of qlib with specific configurations could indicate usage patterns.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      16,
      1084,
      796,
      34677,
      62,
      37,
      2200,
      48,
      62,
      10943,
      16254,
      13,
      1136,
      7203,
      15234,
      1304,
      62,
      9900,
      4943
    ],
    "start_token": 216,
    "end_token": 246,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      1634,
      286,
      10662,
      8019,
      351,
      2176,
      25412,
      714,
      7603,
      8748,
      7572,
      13
    ],
    "label": "ml_signal",
    "reason": "Initialization of qlib with specific configurations could indicate usage patterns."
  },
  {
    "line": 223,
    "text": "    def _init_qlib(self):",
    "annotation": "\ud83e\udde0 ML Signal: Use of model training function",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      4808,
      15003,
      62,
      80,
      8019,
      7,
      944,
      2599
    ],
    "start_token": 246,
    "end_token": 258,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      2746,
      3047,
      2163
    ],
    "label": "ml_signal",
    "reason": "Use of model training function"
  },
  {
    "line": 225,
    "text": "        provider_uri_day = \"~/.qlib/qlib_data/cn_data\"  # target_dir",
    "annotation": "\ud83e\udde0 ML Signal: Logging parameters for experiment tracking",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      820,
      796,
      366,
      93,
      11757,
      80,
      8019,
      14,
      80,
      8019,
      62,
      7890,
      14,
      31522,
      62,
      7890,
      1,
      220,
      1303,
      2496,
      62,
      15908
    ],
    "start_token": 258,
    "end_token": 291,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      10007,
      329,
      6306,
      9646
    ],
    "label": "ml_signal",
    "reason": "Logging parameters for experiment tracking"
  },
  {
    "line": 227,
    "text": "        provider_uri_1min = HIGH_FREQ_CONFIG.get(\"provider_uri\")",
    "annotation": "\ud83e\udde0 ML Signal: Model fitting on dataset",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      16,
      1084,
      796,
      34677,
      62,
      37,
      2200,
      48,
      62,
      10943,
      16254,
      13,
      1136,
      7203,
      15234,
      1304,
      62,
      9900,
      4943
    ],
    "start_token": 291,
    "end_token": 321,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      15830,
      319,
      27039
    ],
    "label": "ml_signal",
    "reason": "Model fitting on dataset"
  },
  {
    "line": 229,
    "text": "            target_dir=provider_uri_1min, interval=\"1min\", region=REG_CN, version=\"v2\", exists_skip=True",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Saving model objects without specifying a secure path",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2496,
      62,
      15908,
      28,
      15234,
      1304,
      62,
      9900,
      62,
      16,
      1084,
      11,
      16654,
      2625,
      16,
      1084,
      1600,
      3814,
      28,
      31553,
      62,
      44175,
      11,
      2196,
      2625,
      85,
      17,
      1600,
      7160,
      62,
      48267,
      28,
      17821
    ],
    "start_token": 321,
    "end_token": 365,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      34689,
      2746,
      5563,
      1231,
      31577,
      257,
      5713,
      3108
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Saving model objects without specifying a secure path"
  },
  {
    "line": 231,
    "text": "        provider_uri_map = {\"1min\": provider_uri_1min, \"day\": provider_uri_day}",
    "annotation": "\ud83e\udde0 ML Signal: Use of a recorder for tracking experiments",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      8899,
      796,
      19779,
      16,
      1084,
      1298,
      10131,
      62,
      9900,
      62,
      16,
      1084,
      11,
      366,
      820,
      1298,
      10131,
      62,
      9900,
      62,
      820,
      92
    ],
    "start_token": 365,
    "end_token": 398,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      38156,
      329,
      9646,
      10256
    ],
    "label": "ml_signal",
    "reason": "Use of a recorder for tracking experiments"
  },
  {
    "line": 233,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: SignalRecord usage for model and dataset",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 398,
    "end_token": 398,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26484,
      23739,
      8748,
      329,
      2746,
      290,
      27039
    ],
    "label": "ml_signal",
    "reason": "SignalRecord usage for model and dataset"
  },
  {
    "line": 235,
    "text": "        with R.start(experiment_name=self.exp_name):",
    "annotation": "\ud83e\udde0 ML Signal: Generating signals from the model and dataset",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      2599
    ],
    "start_token": 398,
    "end_token": 421,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      10425,
      422,
      262,
      2746,
      290,
      27039
    ],
    "label": "ml_signal",
    "reason": "Generating signals from the model and dataset"
  },
  {
    "line": 231,
    "text": "        provider_uri_map = {\"1min\": provider_uri_1min, \"day\": provider_uri_day}",
    "annotation": "\u2705 Best Practice: Initialize necessary components before use",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      10131,
      62,
      9900,
      62,
      8899,
      796,
      19779,
      16,
      1084,
      1298,
      10131,
      62,
      9900,
      62,
      16,
      1084,
      11,
      366,
      820,
      1298,
      10131,
      62,
      9900,
      62,
      820,
      92
    ],
    "start_token": 421,
    "end_token": 454,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      20768,
      1096,
      3306,
      6805,
      878,
      779
    ],
    "label": "best_practice",
    "reason": "Initialize necessary components before use"
  },
  {
    "line": 233,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Model initialization from configuration",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 454,
    "end_token": 454,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      37588,
      422,
      8398
    ],
    "label": "ml_signal",
    "reason": "Model initialization from configuration"
  },
  {
    "line": 235,
    "text": "        with R.start(experiment_name=self.exp_name):",
    "annotation": "\ud83e\udde0 ML Signal: Dataset initialization from configuration",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      2599
    ],
    "start_token": 454,
    "end_token": 477,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      16092,
      292,
      316,
      37588,
      422,
      8398
    ],
    "label": "ml_signal",
    "reason": "Dataset initialization from configuration"
  },
  {
    "line": 235,
    "text": "        with R.start(experiment_name=self.exp_name):",
    "annotation": "\ud83e\udde0 ML Signal: Model training with dataset",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      2599
    ],
    "start_token": 477,
    "end_token": 500,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      3047,
      351,
      27039
    ],
    "label": "ml_signal",
    "reason": "Model training with dataset"
  },
  {
    "line": 235,
    "text": "        with R.start(experiment_name=self.exp_name):",
    "annotation": "\ud83e\udde0 ML Signal: Strategy configuration for backtesting",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      2599
    ],
    "start_token": 500,
    "end_token": 523,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20561,
      8398,
      329,
      736,
      33407
    ],
    "label": "ml_signal",
    "reason": "Strategy configuration for backtesting"
  },
  {
    "line": 248,
    "text": "        dataset = init_instance_by_config(self.task[\"dataset\"])",
    "annotation": "\ud83e\udde0 ML Signal: Port analysis configuration with strategy",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      27039,
      796,
      2315,
      62,
      39098,
      62,
      1525,
      62,
      11250,
      7,
      944,
      13,
      35943,
      14692,
      19608,
      292,
      316,
      8973,
      8
    ],
    "start_token": 523,
    "end_token": 549,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4347,
      3781,
      8398,
      351,
      4811
    ],
    "label": "ml_signal",
    "reason": "Port analysis configuration with strategy"
  },
  {
    "line": 253,
    "text": "            \"kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Setting benchmark for backtest",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 549,
    "end_token": 565,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      25700,
      18335,
      329,
      736,
      9288
    ],
    "label": "ml_signal",
    "reason": "Setting benchmark for backtest"
  },
  {
    "line": 253,
    "text": "            \"kwargs\": {",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Ensure R.start is properly handled for exceptions",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 565,
    "end_token": 581,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      48987,
      371,
      13,
      9688,
      318,
      6105,
      12118,
      329,
      13269
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Ensure R.start is properly handled for exceptions"
  },
  {
    "line": 255,
    "text": "                \"topk\": 50,",
    "annotation": "\ud83e\udde0 ML Signal: Recorder retrieval for experiment tracking",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      4852,
      74,
      1298,
      2026,
      11
    ],
    "start_token": 581,
    "end_token": 602,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      3311,
      2875,
      45069,
      329,
      6306,
      9646
    ],
    "label": "ml_signal",
    "reason": "Recorder retrieval for experiment tracking"
  },
  {
    "line": 257,
    "text": "            },",
    "annotation": "\ud83e\udde0 ML Signal: Portfolio analysis record creation",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 602,
    "end_token": 614,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4347,
      13652,
      3781,
      1700,
      6282
    ],
    "label": "ml_signal",
    "reason": "Portfolio analysis record creation"
  },
  {
    "line": 262,
    "text": "        with R.start(experiment_name=self.exp_name, resume=True):",
    "annotation": "\ud83e\udde0 ML Signal: Generating portfolio analysis results",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      11,
      15294,
      28,
      17821,
      2599
    ],
    "start_token": 614,
    "end_token": 641,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      15320,
      3781,
      2482
    ],
    "label": "ml_signal",
    "reason": "Generating portfolio analysis results"
  },
  {
    "line": 256,
    "text": "                \"n_drop\": 5,",
    "annotation": "\ud83e\udde0 ML Signal: Initializing model and dataset from configuration, indicating a pattern of dynamic model and dataset usage",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      77,
      62,
      14781,
      1298,
      642,
      11
    ],
    "start_token": 641,
    "end_token": 663,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      2890,
      2746,
      290,
      27039,
      422,
      8398,
      11,
      12739,
      257,
      3912,
      286,
      8925,
      2746,
      290,
      27039,
      8748
    ],
    "label": "ml_signal",
    "reason": "Initializing model and dataset from configuration, indicating a pattern of dynamic model and dataset usage"
  },
  {
    "line": 258,
    "text": "        }",
    "annotation": "\ud83e\udde0 ML Signal: Initializing model and dataset from configuration, indicating a pattern of dynamic model and dataset usage",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1782
    ],
    "start_token": 663,
    "end_token": 671,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      2890,
      2746,
      290,
      27039,
      422,
      8398,
      11,
      12739,
      257,
      3912,
      286,
      8925,
      2746,
      290,
      27039,
      8748
    ],
    "label": "ml_signal",
    "reason": "Initializing model and dataset from configuration, indicating a pattern of dynamic model and dataset usage"
  },
  {
    "line": 262,
    "text": "        with R.start(experiment_name=self.exp_name, resume=True):",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic assignment of benchmark, indicating a pattern of flexible backtesting configurations",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      28,
      944,
      13,
      11201,
      62,
      3672,
      11,
      15294,
      28,
      17821,
      2599
    ],
    "start_token": 671,
    "end_token": 698,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      16237,
      286,
      18335,
      11,
      12739,
      257,
      3912,
      286,
      12846,
      736,
      33407,
      25412
    ],
    "label": "ml_signal",
    "reason": "Dynamic assignment of benchmark, indicating a pattern of flexible backtesting configurations"
  },
  {
    "line": 271,
    "text": "        # user could use following methods to analysis the position",
    "annotation": "\ud83e\udde0 ML Signal: Using model and dataset as part of strategy configuration, indicating a pattern of strategy customization",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      2836,
      714,
      779,
      1708,
      5050,
      284,
      3781,
      262,
      2292
    ],
    "start_token": 698,
    "end_token": 715,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      8554,
      2746,
      290,
      27039,
      355,
      636,
      286,
      4811,
      8398,
      11,
      12739,
      257,
      3912,
      286,
      4811,
      31344
    ],
    "label": "ml_signal",
    "reason": "Using model and dataset as part of strategy configuration, indicating a pattern of strategy customization"
  },
  {
    "line": 275,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Potential risk if `collect_data` function is not properly validated or sanitized",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 715,
    "end_token": 715,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      32480,
      2526,
      611,
      4600,
      33327,
      62,
      7890,
      63,
      2163,
      318,
      407,
      6105,
      31031,
      393,
      5336,
      36951
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Potential risk if `collect_data` function is not properly validated or sanitized"
  },
  {
    "line": 277,
    "text": "        self._init_qlib()",
    "annotation": "\u2705 Best Practice: Consider using logging instead of print for better control over output and log levels",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      15003,
      62,
      80,
      8019,
      3419
    ],
    "start_token": 715,
    "end_token": 729,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      1262,
      18931,
      2427,
      286,
      3601,
      329,
      1365,
      1630,
      625,
      5072,
      290,
      2604,
      2974
    ],
    "label": "best_practice",
    "reason": "Consider using logging instead of print for better control over output and log levels"
  },
  {
    "line": 274,
    "text": "        # analysis_position.report_graph(report_normal_df)",
    "annotation": "\u2705 Best Practice: Consider adding a docstring to describe the purpose and functionality of the method.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      3781,
      62,
      9150,
      13,
      13116,
      62,
      34960,
      7,
      13116,
      62,
      11265,
      62,
      7568,
      8
    ],
    "start_token": 729,
    "end_token": 751,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      4375,
      257,
      2205,
      8841,
      284,
      6901,
      262,
      4007,
      290,
      11244,
      286,
      262,
      2446,
      13
    ],
    "label": "best_practice",
    "reason": "Consider adding a docstring to describe the purpose and functionality of the method."
  },
  {
    "line": 276,
    "text": "    def collect_data(self):",
    "annotation": "\u2705 Best Practice: Ensure that _init_qlib is defined elsewhere in the class to avoid runtime errors.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      825,
      2824,
      62,
      7890,
      7,
      944,
      2599
    ],
    "start_token": 751,
    "end_token": 761,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      48987,
      326,
      4808,
      15003,
      62,
      80,
      8019,
      318,
      5447,
      8057,
      287,
      262,
      1398,
      284,
      3368,
      19124,
      8563,
      13
    ],
    "label": "best_practice",
    "reason": "Ensure that _init_qlib is defined elsewhere in the class to avoid runtime errors."
  },
  {
    "line": 278,
    "text": "        model = init_instance_by_config(self.task[\"model\"])",
    "annotation": "\ud83e\udde0 ML Signal: Usage of experiment retrieval, which can be a pattern for ML model training.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2746,
      796,
      2315,
      62,
      39098,
      62,
      1525,
      62,
      11250,
      7,
      944,
      13,
      35943,
      14692,
      19849,
      8973,
      8
    ],
    "start_token": 761,
    "end_token": 785,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      6306,
      45069,
      11,
      543,
      460,
      307,
      257,
      3912,
      329,
      10373,
      2746,
      3047,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of experiment retrieval, which can be a pattern for ML model training."
  },
  {
    "line": 280,
    "text": "        self._train_model(model, dataset)",
    "annotation": "\ud83e\udde0 ML Signal: Accessing the first recorder from the experiment, indicating a pattern of data retrieval.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13557,
      27432,
      62,
      19849,
      7,
      19849,
      11,
      27039,
      8
    ],
    "start_token": 785,
    "end_token": 802,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      8798,
      278,
      262,
      717,
      38156,
      422,
      262,
      6306,
      11,
      12739,
      257,
      3912,
      286,
      1366,
      45069,
      13
    ],
    "label": "ml_signal",
    "reason": "Accessing the first recorder from the experiment, indicating a pattern of data retrieval."
  },
  {
    "line": 282,
    "text": "        backtest_config = self.port_analysis_config[\"backtest\"]",
    "annotation": "\u2705 Best Practice: Consider using a list or tuple for multiple items to improve readability.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      736,
      9288,
      62,
      11250,
      796,
      2116,
      13,
      634,
      62,
      20930,
      62,
      11250,
      14692,
      1891,
      9288,
      8973
    ],
    "start_token": 802,
    "end_token": 825,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      1262,
      257,
      1351,
      393,
      46545,
      329,
      3294,
      3709,
      284,
      2987,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Consider using a list or tuple for multiple items to improve readability."
  },
  {
    "line": 284,
    "text": "        strategy_config = {",
    "annotation": "\u2705 Best Practice: Reassigning check_key immediately may be confusing; consider revising logic.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      4811,
      62,
      11250,
      796,
      1391
    ],
    "start_token": 825,
    "end_token": 837,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      797,
      562,
      38944,
      2198,
      62,
      2539,
      3393,
      743,
      307,
      15337,
      26,
      2074,
      2710,
      1710,
      9156,
      13
    ],
    "label": "best_practice",
    "reason": "Reassigning check_key immediately may be confusing; consider revising logic."
  },
  {
    "line": 287,
    "text": "            \"kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Iterating over different frequencies, which can be a pattern for time-series analysis.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 837,
    "end_token": 853,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      40806,
      803,
      625,
      1180,
      19998,
      11,
      543,
      460,
      307,
      257,
      3912,
      329,
      640,
      12,
      25076,
      3781,
      13
    ],
    "label": "ml_signal",
    "reason": "Iterating over different frequencies, which can be a pattern for time-series analysis."
  },
  {
    "line": 287,
    "text": "            \"kwargs\": {",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Ensure that the file path and check_key are validated to prevent potential file access issues.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 853,
    "end_token": 869,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      48987,
      326,
      262,
      2393,
      3108,
      290,
      2198,
      62,
      2539,
      389,
      31031,
      284,
      2948,
      2785,
      2393,
      1895,
      2428,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Ensure that the file path and check_key are validated to prevent potential file access issues."
  },
  {
    "line": 287,
    "text": "            \"kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Conversion to DataFrame, a common pattern in data processing tasks.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 869,
    "end_token": 885,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      44101,
      284,
      6060,
      19778,
      11,
      257,
      2219,
      3912,
      287,
      1366,
      7587,
      8861,
      13
    ],
    "label": "ml_signal",
    "reason": "Conversion to DataFrame, a common pattern in data processing tasks."
  },
  {
    "line": 287,
    "text": "            \"kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Resampling data, a common operation in time-series analysis.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 885,
    "end_token": 901,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      1874,
      321,
      11347,
      1366,
      11,
      257,
      2219,
      4905,
      287,
      640,
      12,
      25076,
      3781,
      13
    ],
    "label": "ml_signal",
    "reason": "Resampling data, a common operation in time-series analysis."
  },
  {
    "line": 287,
    "text": "            \"kwargs\": {",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Ensure that the assertion does not fail silently in production environments.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 901,
    "end_token": 917,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      48987,
      326,
      262,
      19190,
      857,
      407,
      2038,
      24595,
      287,
      3227,
      12493,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Ensure that the assertion does not fail silently in production environments."
  },
  {
    "line": 325,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Usage of model initialization from a configuration",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 917,
    "end_token": 917,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      2746,
      37588,
      422,
      257,
      8398
    ],
    "label": "ml_signal",
    "reason": "Usage of model initialization from a configuration"
  },
  {
    "line": 327,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Usage of dataset initialization from a configuration",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 917,
    "end_token": 917,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      27039,
      37588,
      422,
      257,
      8398
    ],
    "label": "ml_signal",
    "reason": "Usage of dataset initialization from a configuration"
  },
  {
    "line": 328,
    "text": "            [1724971:MainThread](2021-12-07 16:24:31,156) INFO - qlib.workflow - [record_temp.py:441] - Portfolio analysis record 'port_analysis_1day.pkl'",
    "annotation": "\ud83e\udde0 ML Signal: Training a model with a dataset",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      685,
      1558,
      21626,
      4869,
      25,
      13383,
      16818,
      16151,
      1238,
      2481,
      12,
      1065,
      12,
      2998,
      1467,
      25,
      1731,
      25,
      3132,
      11,
      21599,
      8,
      24890,
      532,
      10662,
      8019,
      13,
      1818,
      11125,
      532,
      685,
      22105,
      62,
      29510,
      13,
      9078,
      25,
      39710,
      60,
      532,
      4347,
      13652,
      3781,
      1700,
      705,
      634,
      62,
      20930,
      62,
      16,
      820,
      13,
      79,
      41582,
      6
    ],
    "start_token": 917,
    "end_token": 983,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      13614,
      257,
      2746,
      351,
      257,
      27039
    ],
    "label": "ml_signal",
    "reason": "Training a model with a dataset"
  },
  {
    "line": 339,
    "text": "            mean               0.001375",
    "annotation": "\u2705 Best Practice: Use of deepcopy to avoid mutating the original configuration",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1612,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      657,
      13,
      405,
      1485,
      2425
    ],
    "start_token": 983,
    "end_token": 1014,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      2769,
      30073,
      284,
      3368,
      4517,
      803,
      262,
      2656,
      8398
    ],
    "label": "best_practice",
    "reason": "Use of deepcopy to avoid mutating the original configuration"
  },
  {
    "line": 353,
    "text": "            'The following are analysis results of indicators(1day).'",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential risk if `self.exp_name` is user-controlled and not validated",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      705,
      464,
      1708,
      389,
      3781,
      2482,
      286,
      21337,
      7,
      16,
      820,
      737,
      6
    ],
    "start_token": 1014,
    "end_token": 1038,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      2526,
      611,
      4600,
      944,
      13,
      11201,
      62,
      3672,
      63,
      318,
      2836,
      12,
      14401,
      290,
      407,
      31031
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential risk if `self.exp_name` is user-controlled and not validated"
  },
  {
    "line": 354,
    "text": "                 value",
    "annotation": "\ud83e\udde0 ML Signal: Generating a portfolio analysis record",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1988
    ],
    "start_token": 1038,
    "end_token": 1055,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      257,
      15320,
      3781,
      1700
    ],
    "label": "ml_signal",
    "reason": "Generating a portfolio analysis record"
  },
  {
    "line": 354,
    "text": "                 value",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential risk if `NestedDecisionExecutionWorkflow` is user-controlled and not validated",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1988
    ],
    "start_token": 1055,
    "end_token": 1072,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      2526,
      611,
      4600,
      45,
      7287,
      10707,
      1166,
      23002,
      1009,
      12468,
      11125,
      63,
      318,
      2836,
      12,
      14401,
      290,
      407,
      31031
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential risk if `NestedDecisionExecutionWorkflow` is user-controlled and not validated"
  },
  {
    "line": 354,
    "text": "                 value",
    "annotation": "\ud83e\udde0 ML Signal: Command-line interface for executing workflows",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1988
    ],
    "start_token": 1072,
    "end_token": 1089,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9455,
      12,
      1370,
      7071,
      329,
      23710,
      670,
      44041
    ],
    "label": "ml_signal",
    "reason": "Command-line interface for executing workflows"
  }
]