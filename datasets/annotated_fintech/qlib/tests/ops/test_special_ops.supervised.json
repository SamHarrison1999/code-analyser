[
  {
    "line": 2,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific modules from a library indicates usage patterns for those modules",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 0,
    "end_token": 0,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      13103,
      422,
      257,
      5888,
      9217,
      8748,
      7572,
      329,
      883,
      13103
    ],
    "label": "ml_signal",
    "reason": "Importing specific modules from a library indicates usage patterns for those modules"
  },
  {
    "line": 4,
    "text": "from qlib.data.dataset.loader import QlibDataLoader",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific classes from a library indicates usage patterns for those classes",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      7890,
      13,
      19608,
      292,
      316,
      13,
      29356,
      1330,
      1195,
      8019,
      6601,
      17401
    ],
    "start_token": 0,
    "end_token": 16,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      6097,
      422,
      257,
      5888,
      9217,
      8748,
      7572,
      329,
      883,
      6097
    ],
    "label": "ml_signal",
    "reason": "Importing specific classes from a library indicates usage patterns for those classes"
  },
  {
    "line": 6,
    "text": "from qlib.tests import TestOperatorData",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific classes from a library indicates usage patterns for those classes",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      41989,
      1330,
      6208,
      18843,
      1352,
      6601
    ],
    "start_token": 16,
    "end_token": 26,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      6097,
      422,
      257,
      5888,
      9217,
      8748,
      7572,
      329,
      883,
      6097
    ],
    "label": "ml_signal",
    "reason": "Importing specific classes from a library indicates usage patterns for those classes"
  },
  {
    "line": 8,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific modules from a library indicates usage patterns for those modules",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 26,
    "end_token": 26,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      13103,
      422,
      257,
      5888,
      9217,
      8748,
      7572,
      329,
      883,
      13103
    ],
    "label": "ml_signal",
    "reason": "Importing specific modules from a library indicates usage patterns for those modules"
  },
  {
    "line": 7,
    "text": "",
    "annotation": "\u2705 Best Practice: Class definition should include a docstring explaining its purpose and usage",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 26,
    "end_token": 26,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5016,
      6770,
      815,
      2291,
      257,
      2205,
      8841,
      11170,
      663,
      4007,
      290,
      8748
    ],
    "label": "best_practice",
    "reason": "Class definition should include a docstring explaining its purpose and usage"
  },
  {
    "line": 8,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Use of a method named 'features' suggests a pattern for feature extraction in ML models",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 26,
    "end_token": 26,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      2446,
      3706,
      705,
      40890,
      6,
      5644,
      257,
      3912,
      329,
      3895,
      22236,
      287,
      10373,
      4981
    ],
    "label": "ml_signal",
    "reason": "Use of a method named 'features' suggests a pattern for feature extraction in ML models"
  },
  {
    "line": 10,
    "text": "    def test_setting(self):",
    "annotation": "\ud83e\udde0 ML Signal: Use of a method named 'features' suggests a pattern for feature extraction in ML models",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      825,
      1332,
      62,
      33990,
      7,
      944,
      2599
    ],
    "start_token": 26,
    "end_token": 36,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      2446,
      3706,
      705,
      40890,
      6,
      5644,
      257,
      3912,
      329,
      3895,
      22236,
      287,
      10373,
      4981
    ],
    "label": "ml_signal",
    "reason": "Use of a method named 'features' suggests a pattern for feature extraction in ML models"
  },
  {
    "line": 11,
    "text": "        # All the query below passes",
    "annotation": "\ud83e\udde0 ML Signal: Use of a method named 'features' suggests a pattern for feature extraction in ML models",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      1439,
      262,
      12405,
      2174,
      8318
    ],
    "start_token": 36,
    "end_token": 49,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      2446,
      3706,
      705,
      40890,
      6,
      5644,
      257,
      3912,
      329,
      3895,
      22236,
      287,
      10373,
      4981
    ],
    "label": "ml_signal",
    "reason": "Use of a method named 'features' suggests a pattern for feature extraction in ML models"
  },
  {
    "line": 14,
    "text": "        # get market return for \"SH600519\"",
    "annotation": "\ud83e\udde0 ML Signal: Use of a method named 'features' suggests a pattern for feature extraction in ML models",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      651,
      1910,
      1441,
      329,
      366,
      9693,
      8054,
      47785,
      1
    ],
    "start_token": 49,
    "end_token": 66,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      2446,
      3706,
      705,
      40890,
      6,
      5644,
      257,
      3912,
      329,
      3895,
      22236,
      287,
      10373,
      4981
    ],
    "label": "ml_signal",
    "reason": "Use of a method named 'features' suggests a pattern for feature extraction in ML models"
  },
  {
    "line": 18,
    "text": "        df = D.features(",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Printing data frames can expose sensitive data in logs",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      47764,
      796,
      360,
      13,
      40890,
      7
    ],
    "start_token": 66,
    "end_token": 79,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      44118,
      1366,
      13431,
      460,
      15651,
      8564,
      1366,
      287,
      17259
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Printing data frames can expose sensitive data in logs"
  },
  {
    "line": 20,
    "text": "        )",
    "annotation": "\ud83e\udde0 ML Signal: Logging and printing are common patterns for debugging and monitoring",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1267
    ],
    "start_token": 79,
    "end_token": 87,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      290,
      13570,
      389,
      2219,
      7572,
      329,
      28769,
      290,
      9904
    ],
    "label": "ml_signal",
    "reason": "Logging and printing are common patterns for debugging and monitoring"
  },
  {
    "line": 22,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Function return values are often used for further processing or validation",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 87,
    "end_token": 87,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      1441,
      3815,
      389,
      1690,
      973,
      329,
      2252,
      7587,
      393,
      21201
    ],
    "label": "ml_signal",
    "reason": "Function return values are often used for further processing or validation"
  },
  {
    "line": 24,
    "text": "        def test_case(instruments, queries, note=None):",
    "annotation": "\ud83e\udde0 ML Signal: Function calls with specific parameters can indicate usage patterns",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      825,
      1332,
      62,
      7442,
      7,
      259,
      2536,
      2886,
      11,
      20743,
      11,
      3465,
      28,
      14202,
      2599
    ],
    "start_token": 87,
    "end_token": 109,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      3848,
      351,
      2176,
      10007,
      460,
      7603,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Function calls with specific parameters can indicate usage patterns"
  },
  {
    "line": 42,
    "text": "        )",
    "annotation": "\ud83e\udde0 ML Signal: String formatting and variable usage can indicate dynamic query generation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1267
    ],
    "start_token": 109,
    "end_token": 117,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      10903,
      33313,
      290,
      7885,
      8748,
      460,
      7603,
      8925,
      12405,
      5270
    ],
    "label": "ml_signal",
    "reason": "String formatting and variable usage can indicate dynamic query generation"
  },
  {
    "line": 58,
    "text": "            f\"ChangeInstrument('{benchmark}', Feature('close'))\",",
    "annotation": "\ud83e\udde0 ML Signal: Function calls with specific parameters can indicate usage patterns",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      277,
      1,
      19400,
      818,
      43872,
      10786,
      90,
      26968,
      4102,
      92,
      3256,
      27018,
      10786,
      19836,
      6,
      4008,
      1600
    ],
    "start_token": 117,
    "end_token": 145,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      15553,
      3848,
      351,
      2176,
      10007,
      460,
      7603,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Function calls with specific parameters can indicate usage patterns"
  },
  {
    "line": 61,
    "text": "            beta,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential for division by zero if Ref(Feature(\"close\"), 1) is zero",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      12159,
      11
    ],
    "start_token": 145,
    "end_token": 158,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      329,
      7297,
      416,
      6632,
      611,
      6524,
      7,
      38816,
      7203,
      19836,
      12340,
      352,
      8,
      318,
      6632
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential for division by zero if Ref(Feature(\"close\"), 1) is zero"
  },
  {
    "line": 62,
    "text": "            excess_return,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential for division by zero if Ref(Feature(\"close\"), 1) is zero",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      6992,
      62,
      7783,
      11
    ],
    "start_token": 158,
    "end_token": 173,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      329,
      7297,
      416,
      6632,
      611,
      6524,
      7,
      38816,
      7203,
      19836,
      12340,
      352,
      8,
      318,
      6632
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential for division by zero if Ref(Feature(\"close\"), 1) is zero"
  },
  {
    "line": 70,
    "text": "        marketRet = ChangeInstrument(benchmark, Feature(\"close\") / Ref(Feature(\"close\"), 1) - 1)",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential for division by zero if marketVar is zero",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1910,
      9781,
      796,
      9794,
      818,
      43872,
      7,
      26968,
      4102,
      11,
      27018,
      7203,
      19836,
      4943,
      1220,
      6524,
      7,
      38816,
      7203,
      19836,
      12340,
      352,
      8,
      532,
      352,
      8
    ],
    "start_token": 173,
    "end_token": 206,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      329,
      7297,
      416,
      6632,
      611,
      1910,
      19852,
      318,
      6632
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential for division by zero if marketVar is zero"
  },
  {
    "line": 76,
    "text": "            ret,",
    "annotation": "\u2705 Best Practice: Use of dictionaries for configuration improves readability and maintainability",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1005,
      11
    ],
    "start_token": 206,
    "end_token": 219,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      48589,
      3166,
      329,
      8398,
      19575,
      1100,
      1799,
      290,
      5529,
      1799
    ],
    "label": "best_practice",
    "reason": "Use of dictionaries for configuration improves readability and maintainability"
  },
  {
    "line": 76,
    "text": "            ret,",
    "annotation": "\ud83e\udde0 ML Signal: Object instantiation with specific configurations can indicate usage patterns",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1005,
      11
    ],
    "start_token": 219,
    "end_token": 232,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9515,
      9113,
      3920,
      351,
      2176,
      25412,
      460,
      7603,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Object instantiation with specific configurations can indicate usage patterns"
  },
  {
    "line": 76,
    "text": "            ret,",
    "annotation": "\ud83e\udde0 ML Signal: Method calls on objects can indicate common usage patterns",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1005,
      11
    ],
    "start_token": 232,
    "end_token": 245,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      11789,
      3848,
      319,
      5563,
      460,
      7603,
      2219,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Method calls on objects can indicate common usage patterns"
  },
  {
    "line": 76,
    "text": "            ret,",
    "annotation": "\ud83e\udde0 ML Signal: Logging and printing are common patterns for debugging and monitoring",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1005,
      11
    ],
    "start_token": 245,
    "end_token": 258,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      290,
      13570,
      389,
      2219,
      7572,
      329,
      28769,
      290,
      9904
    ],
    "label": "ml_signal",
    "reason": "Logging and printing are common patterns for debugging and monitoring"
  },
  {
    "line": 76,
    "text": "            ret,",
    "annotation": "\ud83e\udde0 ML Signal: Use of unittest framework indicates testing practices",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1005,
      11
    ],
    "start_token": 258,
    "end_token": 271,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      555,
      715,
      395,
      9355,
      9217,
      4856,
      6593
    ],
    "label": "ml_signal",
    "reason": "Use of unittest framework indicates testing practices"
  }
]