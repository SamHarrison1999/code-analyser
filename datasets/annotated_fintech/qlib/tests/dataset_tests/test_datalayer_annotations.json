[
  {
    "line": 3,
    "text": "from qlib.data import D",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific modules from a library indicates usage patterns",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      7890,
      1330,
      360
    ],
    "start_token": 0,
    "end_token": 7,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      13103,
      422,
      257,
      5888,
      9217,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Importing specific modules from a library indicates usage patterns"
  },
  {
    "line": 5,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Importing specific modules from a library indicates usage patterns",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 7,
    "end_token": 7,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17267,
      278,
      2176,
      13103,
      422,
      257,
      5888,
      9217,
      8748,
      7572
    ],
    "label": "ml_signal",
    "reason": "Importing specific modules from a library indicates usage patterns"
  },
  {
    "line": 7,
    "text": "class TestDataset(TestAutoData):",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a method to fetch features for a specific set of instruments",
    "confidence": 0.5,
    "tokens": [
      4871,
      6208,
      27354,
      292,
      316,
      7,
      14402,
      27722,
      6601,
      2599
    ],
    "start_token": 7,
    "end_token": 17,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2446,
      284,
      21207,
      3033,
      329,
      257,
      2176,
      900,
      286,
      12834
    ],
    "label": "ml_signal",
    "reason": "Usage of a method to fetch features for a specific set of instruments"
  },
  {
    "line": 9,
    "text": "        close_p = D.features(D.instruments(\"csi300\"), [\"$close\"])",
    "annotation": "\ud83e\udde0 ML Signal: Grouping data by a specific key, which is a common data processing pattern",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1969,
      62,
      79,
      796,
      360,
      13,
      40890,
      7,
      35,
      13,
      259,
      2536,
      2886,
      7203,
      6359,
      72,
      6200,
      12340,
      14631,
      3,
      19836,
      8973,
      8
    ],
    "start_token": 17,
    "end_token": 47,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4912,
      278,
      1366,
      416,
      257,
      2176,
      1994,
      11,
      543,
      318,
      257,
      2219,
      1366,
      7587,
      3912
    ],
    "label": "ml_signal",
    "reason": "Grouping data by a specific key, which is a common data processing pattern"
  },
  {
    "line": 11,
    "text": "        cnt = close_p.groupby(\"datetime\", group_keys=False).count()[\"$close\"]",
    "annotation": "\ud83e\udde0 ML Signal: Counting occurrences of a specific feature, indicating data validation or analysis",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      269,
      429,
      796,
      1969,
      62,
      79,
      13,
      8094,
      1525,
      7203,
      19608,
      8079,
      1600,
      1448,
      62,
      13083,
      28,
      25101,
      737,
      9127,
      3419,
      14692,
      3,
      19836,
      8973
    ],
    "start_token": 47,
    "end_token": 79,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2764,
      278,
      40279,
      286,
      257,
      2176,
      3895,
      11,
      12739,
      1366,
      21201,
      393,
      3781
    ],
    "label": "ml_signal",
    "reason": "Counting occurrences of a specific feature, indicating data validation or analysis"
  },
  {
    "line": 13,
    "text": "        cnt_desc = cnt.describe(percentiles=np.arange(0.1, 1.0, 0.1))",
    "annotation": "\ud83e\udde0 ML Signal: Descriptive statistics calculation, useful for understanding data distribution",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      269,
      429,
      62,
      20147,
      796,
      269,
      429,
      13,
      20147,
      4892,
      7,
      25067,
      2915,
      28,
      37659,
      13,
      283,
      858,
      7,
      15,
      13,
      16,
      11,
      352,
      13,
      15,
      11,
      657,
      13,
      16,
      4008
    ],
    "start_token": 79,
    "end_token": 117,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2935,
      6519,
      425,
      7869,
      17952,
      11,
      4465,
      329,
      4547,
      1366,
      6082
    ],
    "label": "ml_signal",
    "reason": "Descriptive statistics calculation, useful for understanding data distribution"
  },
  {
    "line": 15,
    "text": "        print(size_desc)",
    "annotation": "\ud83e\udde0 ML Signal: Descriptive statistics calculation, useful for understanding data distribution",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3601,
      7,
      7857,
      62,
      20147,
      8
    ],
    "start_token": 117,
    "end_token": 130,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2935,
      6519,
      425,
      7869,
      17952,
      11,
      4465,
      329,
      4547,
      1366,
      6082
    ],
    "label": "ml_signal",
    "reason": "Descriptive statistics calculation, useful for understanding data distribution"
  },
  {
    "line": 17,
    "text": "",
    "annotation": "\u2705 Best Practice: Using print statements for debugging or logging purposes",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 130,
    "end_token": 130,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8554,
      3601,
      6299,
      329,
      28769,
      393,
      18931,
      4959
    ],
    "label": "best_practice",
    "reason": "Using print statements for debugging or logging purposes"
  },
  {
    "line": 19,
    "text": "        self.assertGreaterEqual(size_desc.loc[\"80%\"], 290, \"Insufficient number of CSI300 constituent stocks\")",
    "annotation": "\u2705 Best Practice: Using print statements for debugging or logging purposes",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      30493,
      13681,
      263,
      36,
      13255,
      7,
      7857,
      62,
      20147,
      13,
      17946,
      14692,
      1795,
      4,
      33116,
      26481,
      11,
      366,
      20376,
      15267,
      1271,
      286,
      49911,
      6200,
      39384,
      14420,
      4943
    ],
    "start_token": 130,
    "end_token": 166,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8554,
      3601,
      6299,
      329,
      28769,
      393,
      18931,
      4959
    ],
    "label": "best_practice",
    "reason": "Using print statements for debugging or logging purposes"
  },
  {
    "line": 21,
    "text": "        self.assertLessEqual(cnt_desc.loc[\"max\"], 305, \"Excessive number of CSI300 constituent stocks\")",
    "annotation": "\u2705 Best Practice: Assertions to validate expected conditions in tests",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      30493,
      22058,
      36,
      13255,
      7,
      66,
      429,
      62,
      20147,
      13,
      17946,
      14692,
      9806,
      33116,
      32747,
      11,
      366,
      3109,
      45428,
      1271,
      286,
      49911,
      6200,
      39384,
      14420,
      4943
    ],
    "start_token": 166,
    "end_token": 201,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      2195,
      861,
      507,
      284,
      26571,
      2938,
      3403,
      287,
      5254
    ],
    "label": "best_practice",
    "reason": "Assertions to validate expected conditions in tests"
  },
  {
    "line": 23,
    "text": "        # self.assertEqual(cnt_desc.loc[\"80%\"], 300, \"Insufficient number of CSI300 constituent stocks\")",
    "annotation": "\u2705 Best Practice: Assertions to validate expected conditions in tests",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      2116,
      13,
      30493,
      36,
      13255,
      7,
      66,
      429,
      62,
      20147,
      13,
      17946,
      14692,
      1795,
      4,
      33116,
      5867,
      11,
      366,
      20376,
      15267,
      1271,
      286,
      49911,
      6200,
      39384,
      14420,
      4943
    ],
    "start_token": 201,
    "end_token": 237,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      2195,
      861,
      507,
      284,
      26571,
      2938,
      3403,
      287,
      5254
    ],
    "label": "best_practice",
    "reason": "Assertions to validate expected conditions in tests"
  },
  {
    "line": 24,
    "text": "",
    "annotation": "\u2705 Best Practice: Assertions to validate expected conditions in tests",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 237,
    "end_token": 237,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      2195,
      861,
      507,
      284,
      26571,
      2938,
      3403,
      287,
      5254
    ],
    "label": "best_practice",
    "reason": "Assertions to validate expected conditions in tests"
  },
  {
    "line": 18,
    "text": "        self.assertLessEqual(size_desc.loc[\"max\"], 305, \"Excessive number of CSI300 constituent stocks\")",
    "annotation": "\ud83e\udde0 ML Signal: Use of financial data features for testing",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2116,
      13,
      30493,
      22058,
      36,
      13255,
      7,
      7857,
      62,
      20147,
      13,
      17946,
      14692,
      9806,
      33116,
      32747,
      11,
      366,
      3109,
      45428,
      1271,
      286,
      49911,
      6200,
      39384,
      14420,
      4943
    ],
    "start_token": 237,
    "end_token": 271,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      3176,
      1366,
      3033,
      329,
      4856
    ],
    "label": "ml_signal",
    "reason": "Use of financial data features for testing"
  },
  {
    "line": 20,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Statistical description of data",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 271,
    "end_token": 271,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      34931,
      6764,
      286,
      1366
    ],
    "label": "ml_signal",
    "reason": "Statistical description of data"
  },
  {
    "line": 22,
    "text": "        # FIXME: Due to the low quality of data. Hard to make sure there are enough data",
    "annotation": "\u2705 Best Practice: Useful for debugging and understanding test results",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      44855,
      11682,
      25,
      14444,
      284,
      262,
      1877,
      3081,
      286,
      1366,
      13,
      6912,
      284,
      787,
      1654,
      612,
      389,
      1576,
      1366
    ],
    "start_token": 271,
    "end_token": 298,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      49511,
      329,
      28769,
      290,
      4547,
      1332,
      2482
    ],
    "label": "best_practice",
    "reason": "Useful for debugging and understanding test results"
  },
  {
    "line": 24,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Use of statistical assertions in tests",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 298,
    "end_token": 298,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      13905,
      29965,
      287,
      5254
    ],
    "label": "ml_signal",
    "reason": "Use of statistical assertions in tests"
  },
  {
    "line": 24,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Use of statistical assertions in tests",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 298,
    "end_token": 298,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      13905,
      29965,
      287,
      5254
    ],
    "label": "ml_signal",
    "reason": "Use of statistical assertions in tests"
  },
  {
    "line": 24,
    "text": "",
    "annotation": "\u2705 Best Practice: Standard unittest main invocation",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 298,
    "end_token": 298,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8997,
      555,
      715,
      395,
      1388,
      43219
    ],
    "label": "best_practice",
    "reason": "Standard unittest main invocation"
  }
]