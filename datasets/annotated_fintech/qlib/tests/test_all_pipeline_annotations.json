[
  {
    "line": 11,
    "text": "from qlib.config import C",
    "annotation": "\u2705 Best Practice: Grouping related imports together improves readability and maintainability.",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      11250,
      1330,
      327
    ],
    "start_token": 0,
    "end_token": 7,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      3519,
      17944,
      1978,
      19575,
      1100,
      1799,
      290,
      5529,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping related imports together improves readability and maintainability."
  },
  {
    "line": 13,
    "text": "from qlib.workflow import R",
    "annotation": "\u2705 Best Practice: Consider adding type hints for the return values for better readability and maintainability.",
    "confidence": 0.5,
    "tokens": [
      6738,
      10662,
      8019,
      13,
      1818,
      11125,
      1330,
      371
    ],
    "start_token": 7,
    "end_token": 15,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      4375,
      2099,
      20269,
      329,
      262,
      1441,
      3815,
      329,
      1365,
      1100,
      1799,
      290,
      5529,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Consider adding type hints for the return values for better readability and maintainability."
  },
  {
    "line": 23,
    "text": "    -------",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a model initialization function indicates a pattern for ML model training.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      35656
    ],
    "start_token": 15,
    "end_token": 19,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2746,
      37588,
      2163,
      9217,
      257,
      3912,
      329,
      10373,
      2746,
      3047,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of a model initialization function indicates a pattern for ML model training."
  },
  {
    "line": 25,
    "text": "            predict scores",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a dataset initialization function indicates a pattern for ML data handling.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      4331,
      8198
    ],
    "start_token": 19,
    "end_token": 32,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      27039,
      37588,
      2163,
      9217,
      257,
      3912,
      329,
      10373,
      1366,
      9041,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of a dataset initialization function indicates a pattern for ML data handling."
  },
  {
    "line": 28,
    "text": "    \"\"\"",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Use of undefined variable 'R' can lead to runtime errors.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      37227
    ],
    "start_token": 32,
    "end_token": 36,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      5765,
      286,
      28721,
      7885,
      705,
      49,
      6,
      460,
      1085,
      284,
      19124,
      8563,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Use of undefined variable 'R' can lead to runtime errors."
  },
  {
    "line": 30,
    "text": "    # model initialization",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential misuse of 'R.start' if 'R' is not properly defined or imported.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      1303,
      2746,
      37588
    ],
    "start_token": 36,
    "end_token": 42,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      29169,
      286,
      705,
      49,
      13,
      9688,
      6,
      611,
      705,
      49,
      6,
      318,
      407,
      6105,
      5447,
      393,
      17392,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential misuse of 'R.start' if 'R' is not properly defined or imported."
  },
  {
    "line": 32,
    "text": "    dataset = init_instance_by_config(CSI300_GBDT_TASK[\"dataset\"])",
    "annotation": "\ud83e\udde0 ML Signal: Logging parameters is a common practice in ML experiments.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      27039,
      796,
      2315,
      62,
      39098,
      62,
      1525,
      62,
      11250,
      7,
      7902,
      40,
      6200,
      62,
      4579,
      24544,
      62,
      51,
      1921,
      42,
      14692,
      19608,
      292,
      316,
      8973,
      8
    ],
    "start_token": 42,
    "end_token": 71,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      10007,
      318,
      257,
      2219,
      3357,
      287,
      10373,
      10256,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging parameters is a common practice in ML experiments."
  },
  {
    "line": 34,
    "text": "    print(dataset)",
    "annotation": "\ud83e\udde0 ML Signal: Model fitting is a key step in ML training processes.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      19608,
      292,
      316,
      8
    ],
    "start_token": 71,
    "end_token": 80,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9104,
      15830,
      318,
      257,
      1994,
      2239,
      287,
      10373,
      3047,
      7767,
      13
    ],
    "label": "ml_signal",
    "reason": "Model fitting is a key step in ML training processes."
  },
  {
    "line": 36,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Saving trained models is a common pattern in ML workflows.",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 80,
    "end_token": 80,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      34689,
      8776,
      4981,
      318,
      257,
      2219,
      3912,
      287,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Saving trained models is a common pattern in ML workflows."
  },
  {
    "line": 38,
    "text": "    with R.start(experiment_name=\"workflow\", uri=uri_path):",
    "annotation": "\ud83e\udde0 ML Signal: Retrieving a recorder is indicative of experiment tracking in ML.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      351,
      371,
      13,
      9688,
      7,
      23100,
      3681,
      62,
      3672,
      2625,
      1818,
      11125,
      1600,
      2956,
      72,
      28,
      9900,
      62,
      6978,
      2599
    ],
    "start_token": 80,
    "end_token": 103,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4990,
      37418,
      257,
      38156,
      318,
      29105,
      286,
      6306,
      9646,
      287,
      10373,
      13
    ],
    "label": "ml_signal",
    "reason": "Retrieving a recorder is indicative of experiment tracking in ML."
  },
  {
    "line": 43,
    "text": "        recorder = R.get_recorder()",
    "annotation": "\ud83e\udde0 ML Signal: SignalRecord usage suggests a pattern for handling ML model signals.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      38156,
      796,
      371,
      13,
      1136,
      62,
      8344,
      2875,
      3419
    ],
    "start_token": 103,
    "end_token": 119,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26484,
      23739,
      8748,
      5644,
      257,
      3912,
      329,
      9041,
      10373,
      2746,
      10425,
      13
    ],
    "label": "ml_signal",
    "reason": "SignalRecord usage suggests a pattern for handling ML model signals."
  },
  {
    "line": 44,
    "text": "        # To test __repr__",
    "annotation": "\ud83e\udde0 ML Signal: Loading prediction scores is a common pattern in ML workflows.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      1675,
      1332,
      11593,
      260,
      1050,
      834
    ],
    "start_token": 119,
    "end_token": 133,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      12320,
      17724,
      8198,
      318,
      257,
      2219,
      3912,
      287,
      10373,
      670,
      44041,
      13
    ],
    "label": "ml_signal",
    "reason": "Loading prediction scores is a common pattern in ML workflows."
  },
  {
    "line": 51,
    "text": "        pred_score = sr.load(\"pred.pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: SigAnaRecord usage suggests a pattern for analyzing ML model signals.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2747,
      62,
      26675,
      796,
      19677,
      13,
      2220,
      7203,
      28764,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 133,
    "end_token": 153,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      21984,
      2025,
      64,
      23739,
      8748,
      5644,
      257,
      3912,
      329,
      22712,
      10373,
      2746,
      10425,
      13
    ],
    "label": "ml_signal",
    "reason": "SigAnaRecord usage suggests a pattern for analyzing ML model signals."
  },
  {
    "line": 51,
    "text": "        pred_score = sr.load(\"pred.pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: Loading 'ic' and 'ric' indicates a pattern for evaluating ML model performance.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2747,
      62,
      26675,
      796,
      19677,
      13,
      2220,
      7203,
      28764,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 153,
    "end_token": 173,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      12320,
      705,
      291,
      6,
      290,
      705,
      1173,
      6,
      9217,
      257,
      3912,
      329,
      22232,
      10373,
      2746,
      2854,
      13
    ],
    "label": "ml_signal",
    "reason": "Loading 'ic' and 'ric' indicates a pattern for evaluating ML model performance."
  },
  {
    "line": 54,
    "text": "        sar = SigAnaRecord(recorder)",
    "annotation": "\ud83e\udde0 ML Signal: Retrieving URI path is indicative of experiment tracking in ML.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      29008,
      796,
      21984,
      2025,
      64,
      23739,
      7,
      8344,
      2875,
      8
    ],
    "start_token": 173,
    "end_token": 190,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      4990,
      37418,
      43975,
      3108,
      318,
      29105,
      286,
      6306,
      9646,
      287,
      10373,
      13
    ],
    "label": "ml_signal",
    "reason": "Retrieving URI path is indicative of experiment tracking in ML."
  },
  {
    "line": 56,
    "text": "        ic = sar.load(\"ic.pkl\")",
    "annotation": "\u2705 Best Practice: Consider returning a named tuple or a dataclass for better readability and maintainability.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      14158,
      796,
      29008,
      13,
      2220,
      7203,
      291,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 190,
    "end_token": 208,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      12642,
      8024,
      257,
      3706,
      46545,
      393,
      257,
      4818,
      330,
      31172,
      329,
      1365,
      1100,
      1799,
      290,
      5529,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Consider returning a named tuple or a dataclass for better readability and maintainability."
  },
  {
    "line": 51,
    "text": "        pred_score = sr.load(\"pred.pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a function to get a URI, indicating a pattern of resource or experiment tracking",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2747,
      62,
      26675,
      796,
      19677,
      13,
      2220,
      7203,
      28764,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 208,
    "end_token": 228,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2163,
      284,
      651,
      257,
      43975,
      11,
      12739,
      257,
      3912,
      286,
      8271,
      393,
      6306,
      9646
    ],
    "label": "ml_signal",
    "reason": "Usage of a function to get a URI, indicating a pattern of resource or experiment tracking"
  },
  {
    "line": 53,
    "text": "        # calculate ic and ric",
    "annotation": "\ud83e\udde0 ML Signal: Hardcoded URI for a temporary experiment, indicating a pattern of local testing or development",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1303,
      15284,
      14158,
      290,
      12410
    ],
    "start_token": 228,
    "end_token": 240,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6912,
      40976,
      43975,
      329,
      257,
      8584,
      6306,
      11,
      12739,
      257,
      3912,
      286,
      1957,
      4856,
      393,
      2478
    ],
    "label": "ml_signal",
    "reason": "Hardcoded URI for a temporary experiment, indicating a pattern of local testing or development"
  },
  {
    "line": 55,
    "text": "        sar.generate()",
    "annotation": "\ud83e\udde0 ML Signal: Starting an experiment with a specific name and URI, indicating a pattern of experiment management",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      29008,
      13,
      8612,
      378,
      3419
    ],
    "start_token": 240,
    "end_token": 252,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      17962,
      281,
      6306,
      351,
      257,
      2176,
      1438,
      290,
      43975,
      11,
      12739,
      257,
      3912,
      286,
      6306,
      4542
    ],
    "label": "ml_signal",
    "reason": "Starting an experiment with a specific name and URI, indicating a pattern of experiment management"
  },
  {
    "line": 57,
    "text": "        ric = sar.load(\"ric.pkl\")",
    "annotation": "\ud83e\udde0 ML Signal: Logging parameters, indicating a pattern of tracking experiment configurations",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      12410,
      796,
      29008,
      13,
      2220,
      7203,
      1173,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 252,
    "end_token": 270,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      10007,
      11,
      12739,
      257,
      3912,
      286,
      9646,
      6306,
      25412
    ],
    "label": "ml_signal",
    "reason": "Logging parameters, indicating a pattern of tracking experiment configurations"
  },
  {
    "line": 59,
    "text": "        uri_path = R.get_uri()",
    "annotation": "\ud83e\udde0 ML Signal: Checking the current URI after starting an experiment, indicating a pattern of validation or verification",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2956,
      72,
      62,
      6978,
      796,
      371,
      13,
      1136,
      62,
      9900,
      3419
    ],
    "start_token": 270,
    "end_token": 288,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      39432,
      262,
      1459,
      43975,
      706,
      3599,
      281,
      6306,
      11,
      12739,
      257,
      3912,
      286,
      21201,
      393,
      19637
    ],
    "label": "ml_signal",
    "reason": "Checking the current URI after starting an experiment, indicating a pattern of validation or verification"
  },
  {
    "line": 59,
    "text": "        uri_path = R.get_uri()",
    "annotation": "\ud83e\udde0 ML Signal: Checking the default URI after an experiment, indicating a pattern of validation or verification",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2956,
      72,
      62,
      6978,
      796,
      371,
      13,
      1136,
      62,
      9900,
      3419
    ],
    "start_token": 288,
    "end_token": 306,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      39432,
      262,
      4277,
      43975,
      706,
      281,
      6306,
      11,
      12739,
      257,
      3912,
      286,
      21201,
      393,
      19637
    ],
    "label": "ml_signal",
    "reason": "Checking the default URI after an experiment, indicating a pattern of validation or verification"
  },
  {
    "line": 59,
    "text": "        uri_path = R.get_uri()",
    "annotation": "\ud83e\udde0 ML Signal: Returning boolean checks and a URI, indicating a pattern of result validation and resource tracking",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2956,
      72,
      62,
      6978,
      796,
      371,
      13,
      1136,
      62,
      9900,
      3419
    ],
    "start_token": 306,
    "end_token": 324,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      42882,
      25131,
      8794,
      290,
      257,
      43975,
      11,
      12739,
      257,
      3912,
      286,
      1255,
      21201,
      290,
      8271,
      9646
    ],
    "label": "ml_signal",
    "reason": "Returning boolean checks and a URI, indicating a pattern of result validation and resource tracking"
  },
  {
    "line": 71,
    "text": "    \"\"\"",
    "annotation": "\u2705 Best Practice: Use of context manager for resource management",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      37227
    ],
    "start_token": 324,
    "end_token": 328,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      4732,
      4706,
      329,
      8271,
      4542
    ],
    "label": "best_practice",
    "reason": "Use of context manager for resource management"
  },
  {
    "line": 73,
    "text": "    # start exp",
    "annotation": "\ud83e\udde0 ML Signal: Loading a recorder by ID, indicating a pattern of experiment tracking",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1303,
      923,
      1033
    ],
    "start_token": 328,
    "end_token": 334,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      12320,
      257,
      38156,
      416,
      4522,
      11,
      12739,
      257,
      3912,
      286,
      6306,
      9646
    ],
    "label": "ml_signal",
    "reason": "Loading a recorder by ID, indicating a pattern of experiment tracking"
  },
  {
    "line": 75,
    "text": "    current_uri = \"file:./temp-test-exp-mag\"",
    "annotation": "\ud83e\udde0 ML Signal: Initialization of dataset instance, indicating a pattern of data handling",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1459,
      62,
      9900,
      796,
      366,
      7753,
      25,
      19571,
      29510,
      12,
      9288,
      12,
      11201,
      12,
      19726,
      1
    ],
    "start_token": 334,
    "end_token": 353,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      20768,
      1634,
      286,
      27039,
      4554,
      11,
      12739,
      257,
      3912,
      286,
      1366,
      9041
    ],
    "label": "ml_signal",
    "reason": "Initialization of dataset instance, indicating a pattern of data handling"
  },
  {
    "line": 75,
    "text": "    current_uri = \"file:./temp-test-exp-mag\"",
    "annotation": "\ud83e\udde0 ML Signal: Loading a trained model, indicating a pattern of model usage",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      1459,
      62,
      9900,
      796,
      366,
      7753,
      25,
      19571,
      29510,
      12,
      9288,
      12,
      11201,
      12,
      19726,
      1
    ],
    "start_token": 353,
    "end_token": 372,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      12320,
      257,
      8776,
      2746,
      11,
      12739,
      257,
      3912,
      286,
      2746,
      8748
    ],
    "label": "ml_signal",
    "reason": "Loading a trained model, indicating a pattern of model usage"
  },
  {
    "line": 112,
    "text": "                \"generate_portfolio_metrics\": True,",
    "annotation": "\ud83e\udde0 ML Signal: Use of PortAnaRecord for analysis, indicating a pattern of financial analysis",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      8612,
      378,
      62,
      634,
      13652,
      62,
      4164,
      10466,
      1298,
      6407,
      11
    ],
    "start_token": 372,
    "end_token": 399,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      4347,
      2025,
      64,
      23739,
      329,
      3781,
      11,
      12739,
      257,
      3912,
      286,
      3176,
      3781
    ],
    "label": "ml_signal",
    "reason": "Use of PortAnaRecord for analysis, indicating a pattern of financial analysis"
  },
  {
    "line": 114,
    "text": "        },",
    "annotation": "\ud83e\udde0 ML Signal: Generating analysis, indicating a pattern of result computation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 399,
    "end_token": 407,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2980,
      803,
      3781,
      11,
      12739,
      257,
      3912,
      286,
      1255,
      29964
    ],
    "label": "ml_signal",
    "reason": "Generating analysis, indicating a pattern of result computation"
  },
  {
    "line": 116,
    "text": "            \"class\": \"TopkDropoutStrategy\",",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Loading data from a file without validation",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      4871,
      1298,
      366,
      9126,
      74,
      26932,
      448,
      13290,
      4338,
      1600
    ],
    "start_token": 407,
    "end_token": 429,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      12320,
      1366,
      422,
      257,
      2393,
      1231,
      21201
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Loading data from a file without validation"
  },
  {
    "line": 117,
    "text": "            \"module_path\": \"qlib.contrib.strategy.signal_strategy\",",
    "annotation": "\u2705 Best Practice: Printing the analysis dataframe for debugging or logging",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      21412,
      62,
      6978,
      1298,
      366,
      80,
      8019,
      13,
      3642,
      822,
      13,
      2536,
      4338,
      13,
      12683,
      282,
      62,
      2536,
      4338,
      1600
    ],
    "start_token": 429,
    "end_token": 461,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      44118,
      262,
      3781,
      1366,
      14535,
      329,
      28769,
      393,
      18931
    ],
    "label": "best_practice",
    "reason": "Printing the analysis dataframe for debugging or logging"
  },
  {
    "line": 117,
    "text": "            \"module_path\": \"qlib.contrib.strategy.signal_strategy\",",
    "annotation": "\u2705 Best Practice: Use of Path and resolve() ensures the path is absolute and platform-independent",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      21412,
      62,
      6978,
      1298,
      366,
      80,
      8019,
      13,
      3642,
      822,
      13,
      2536,
      4338,
      13,
      12683,
      282,
      62,
      2536,
      4338,
      1600
    ],
    "start_token": 461,
    "end_token": 493,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      10644,
      290,
      10568,
      3419,
      19047,
      262,
      3108,
      318,
      4112,
      290,
      3859,
      12,
      34750
    ],
    "label": "best_practice",
    "reason": "Use of Path and resolve() ensures the path is absolute and platform-independent"
  },
  {
    "line": 120,
    "text": "                \"topk\": 50,",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Potential directory traversal if URI_PATH is not properly validated",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      4852,
      74,
      1298,
      2026,
      11
    ],
    "start_token": 493,
    "end_token": 514,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      32480,
      8619,
      33038,
      282,
      611,
      43975,
      62,
      34219,
      318,
      407,
      6105,
      31031
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Potential directory traversal if URI_PATH is not properly validated"
  },
  {
    "line": 122,
    "text": "            },",
    "annotation": "\ud83e\udde0 ML Signal: Usage of pytest marker to categorize tests",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 514,
    "end_token": 526,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      12972,
      9288,
      18364,
      284,
      17851,
      1096,
      5254
    ],
    "label": "ml_signal",
    "reason": "Usage of pytest marker to categorize tests"
  },
  {
    "line": 123,
    "text": "        },",
    "annotation": "\ud83e\udde0 ML Signal: Testing function for a training process",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 526,
    "end_token": 534,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      23983,
      2163,
      329,
      257,
      3047,
      1429
    ],
    "label": "ml_signal",
    "reason": "Testing function for a training process"
  },
  {
    "line": 125,
    "text": "            \"start_time\": \"2017-01-01\",",
    "annotation": "\u2705 Best Practice: Use of assertGreaterEqual for clear error messages",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      9688,
      62,
      2435,
      1298,
      366,
      5539,
      12,
      486,
      12,
      486,
      1600
    ],
    "start_token": 534,
    "end_token": 557,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      6818,
      13681,
      263,
      36,
      13255,
      329,
      1598,
      4049,
      6218
    ],
    "label": "best_practice",
    "reason": "Use of assertGreaterEqual for clear error messages"
  },
  {
    "line": 127,
    "text": "            \"account\": 100000000,",
    "annotation": "\u2705 Best Practice: Use of assertGreaterEqual for clear error messages",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      23317,
      1298,
      1802,
      10535,
      11
    ],
    "start_token": 557,
    "end_token": 574,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      6818,
      13681,
      263,
      36,
      13255,
      329,
      1598,
      4049,
      6218
    ],
    "label": "best_practice",
    "reason": "Use of assertGreaterEqual for clear error messages"
  },
  {
    "line": 129,
    "text": "            \"exchange_kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Use of pytest marker to categorize slow tests",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      1069,
      3803,
      62,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 574,
    "end_token": 593,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      12972,
      9288,
      18364,
      284,
      17851,
      1096,
      3105,
      5254
    ],
    "label": "ml_signal",
    "reason": "Use of pytest marker to categorize slow tests"
  },
  {
    "line": 128,
    "text": "            \"benchmark\": CSI300_BENCH,",
    "annotation": "\ud83e\udde0 ML Signal: Usage of backtest_analysis function indicates a pattern for financial model evaluation",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      26968,
      4102,
      1298,
      49911,
      6200,
      62,
      33,
      1677,
      3398,
      11
    ],
    "start_token": 593,
    "end_token": 615,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      736,
      9288,
      62,
      20930,
      2163,
      9217,
      257,
      3912,
      329,
      3176,
      2746,
      12660
    ],
    "label": "ml_signal",
    "reason": "Usage of backtest_analysis function indicates a pattern for financial model evaluation"
  },
  {
    "line": 129,
    "text": "            \"exchange_kwargs\": {",
    "annotation": "\ud83e\udde0 ML Signal: Asserting on financial metrics like 'excess_return_with_cost' and 'annualized_return' is a common pattern in financial ML models",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      366,
      1069,
      3803,
      62,
      46265,
      22046,
      1298,
      1391
    ],
    "start_token": 615,
    "end_token": 634,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      2195,
      861,
      278,
      319,
      3176,
      20731,
      588,
      705,
      1069,
      919,
      62,
      7783,
      62,
      4480,
      62,
      15805,
      6,
      290,
      705,
      1236,
      723,
      1143,
      62,
      7783,
      6,
      318,
      257,
      2219,
      3912,
      287,
      3176,
      10373,
      4981
    ],
    "label": "ml_signal",
    "reason": "Asserting on financial metrics like 'excess_return_with_cost' and 'annualized_return' is a common pattern in financial ML models"
  },
  {
    "line": 136,
    "text": "            },",
    "annotation": "\u2705 Best Practice: Checking for NaN values ensures data integrity in test assertions",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8964
    ],
    "start_token": 634,
    "end_token": 646,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      39432,
      329,
      11013,
      45,
      3815,
      19047,
      1366,
      11540,
      287,
      1332,
      29965
    ],
    "label": "best_practice",
    "reason": "Checking for NaN values ensures data integrity in test assertions"
  },
  {
    "line": 138,
    "text": "    }",
    "annotation": "\ud83e\udde0 ML Signal: Usage of pytest.mark.slow indicates a pattern for categorizing test execution time",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      1782
    ],
    "start_token": 646,
    "end_token": 650,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      12972,
      9288,
      13,
      4102,
      13,
      38246,
      9217,
      257,
      3912,
      329,
      17851,
      2890,
      1332,
      9706,
      640
    ],
    "label": "ml_signal",
    "reason": "Usage of pytest.mark.slow indicates a pattern for categorizing test execution time"
  },
  {
    "line": 138,
    "text": "    }",
    "annotation": "\ud83e\udde0 ML Signal: Use of assertTrue indicates a pattern for testing boolean conditions",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1782
    ],
    "start_token": 650,
    "end_token": 654,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      6818,
      17821,
      9217,
      257,
      3912,
      329,
      4856,
      25131,
      3403
    ],
    "label": "ml_signal",
    "reason": "Use of assertTrue indicates a pattern for testing boolean conditions"
  },
  {
    "line": 140,
    "text": "    par = PortAnaRecord(recorder, port_analysis_config, risk_analysis_freq=\"day\")",
    "annotation": "\ud83e\udde0 ML Signal: Use of assertTrue indicates a pattern for testing boolean conditions",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1582,
      796,
      4347,
      2025,
      64,
      23739,
      7,
      8344,
      2875,
      11,
      2493,
      62,
      20930,
      62,
      11250,
      11,
      2526,
      62,
      20930,
      62,
      19503,
      80,
      2625,
      820,
      4943
    ],
    "start_token": 654,
    "end_token": 682,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      6818,
      17821,
      9217,
      257,
      3912,
      329,
      4856,
      25131,
      3403
    ],
    "label": "ml_signal",
    "reason": "Use of assertTrue indicates a pattern for testing boolean conditions"
  },
  {
    "line": 142,
    "text": "    analysis_df = par.load(\"port_analysis_1day.pkl\")",
    "annotation": "\u26a0\ufe0f SAST Risk (Medium): Use of shutil.rmtree can delete files or directories, ensure uri_path is validated",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      3781,
      62,
      7568,
      796,
      1582,
      13,
      2220,
      7203,
      634,
      62,
      20930,
      62,
      16,
      820,
      13,
      79,
      41582,
      4943
    ],
    "start_token": 682,
    "end_token": 703,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      31205,
      2599,
      5765,
      286,
      4423,
      346,
      13,
      81,
      16762,
      631,
      460,
      12233,
      3696,
      393,
      29196,
      11,
      4155,
      2956,
      72,
      62,
      6978,
      318,
      31031
    ],
    "label": "sast_risk",
    "severity": "Medium",
    "reason": "Use of shutil.rmtree can delete files or directories, ensure uri_path is validated"
  },
  {
    "line": 141,
    "text": "    par.generate()",
    "annotation": "\ud83e\udde0 ML Signal: Use of unittest framework for testing",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      1582,
      13,
      8612,
      378,
      3419
    ],
    "start_token": 703,
    "end_token": 711,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      555,
      715,
      395,
      9355,
      329,
      4856
    ],
    "label": "ml_signal",
    "reason": "Use of unittest framework for testing"
  },
  {
    "line": 143,
    "text": "    print(analysis_df)",
    "annotation": "\ud83e\udde0 ML Signal: Creation of a test suite",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      3601,
      7,
      20930,
      62,
      7568,
      8
    ],
    "start_token": 711,
    "end_token": 720,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      21582,
      286,
      257,
      1332,
      18389
    ],
    "label": "ml_signal",
    "reason": "Creation of a test suite"
  },
  {
    "line": 145,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Adding specific test cases to the test suite",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 720,
    "end_token": 720,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      18247,
      2176,
      1332,
      2663,
      284,
      262,
      1332,
      18389
    ],
    "label": "ml_signal",
    "reason": "Adding specific test cases to the test suite"
  },
  {
    "line": 147,
    "text": "class TestAllFlow(TestAutoData):",
    "annotation": "\ud83e\udde0 ML Signal: Adding specific test cases to the test suite",
    "confidence": 1.0,
    "tokens": [
      4871,
      6208,
      3237,
      37535,
      7,
      14402,
      27722,
      6601,
      2599
    ],
    "start_token": 720,
    "end_token": 729,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      18247,
      2176,
      1332,
      2663,
      284,
      262,
      1332,
      18389
    ],
    "label": "ml_signal",
    "reason": "Adding specific test cases to the test suite"
  },
  {
    "line": 149,
    "text": "    POSITIONS = None",
    "annotation": "\ud83e\udde0 ML Signal: Adding specific test cases to the test suite",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      28069,
      2043,
      11053,
      796,
      6045
    ],
    "start_token": 729,
    "end_token": 737,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      18247,
      2176,
      1332,
      2663,
      284,
      262,
      1332,
      18389
    ],
    "label": "ml_signal",
    "reason": "Adding specific test cases to the test suite"
  },
  {
    "line": 149,
    "text": "    POSITIONS = None",
    "annotation": "\u2705 Best Practice: Standard Python idiom for making a script executable",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      28069,
      2043,
      11053,
      796,
      6045
    ],
    "start_token": 737,
    "end_token": 745,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      8997,
      11361,
      4686,
      29005,
      329,
      1642,
      257,
      4226,
      28883
    ],
    "label": "best_practice",
    "reason": "Standard Python idiom for making a script executable"
  },
  {
    "line": 149,
    "text": "    POSITIONS = None",
    "annotation": "\ud83e\udde0 ML Signal: Use of unittest framework for running tests",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      28069,
      2043,
      11053,
      796,
      6045
    ],
    "start_token": 745,
    "end_token": 753,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      555,
      715,
      395,
      9355,
      329,
      2491,
      5254
    ],
    "label": "ml_signal",
    "reason": "Use of unittest framework for running tests"
  },
  {
    "line": 149,
    "text": "    POSITIONS = None",
    "annotation": "\ud83e\udde0 ML Signal: Execution of the test suite",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      28069,
      2043,
      11053,
      796,
      6045
    ],
    "start_token": 753,
    "end_token": 761,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      37497,
      286,
      262,
      1332,
      18389
    ],
    "label": "ml_signal",
    "reason": "Execution of the test suite"
  }
]