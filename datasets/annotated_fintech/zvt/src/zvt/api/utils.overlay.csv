annotation,annotation_tokens,confidence,end_token,label,line,reason,severity,start_token,text,tokens
‚úÖ Best Practice: Group imports from the same module together for better readability.,"[26486, 227, 6705, 19939, 25, 4912, 17944, 422, 262, 976, 8265, 1978, 329, 1365, 1100, 1799, 13]",1.0,4,best_practice,2,Group imports from the same module together for better readability.,,0,from typing import Type,"[6738, 19720, 1330, 5994]"
‚úÖ Best Practice: Group imports from the same module together for better readability.,"[26486, 227, 6705, 19939, 25, 4912, 17944, 422, 262, 976, 8265, 1978, 329, 1365, 1100, 1799, 13]",1.0,12,best_practice,4,Group imports from the same module together for better readability.,,4,from zvt.contract import Mixin,"[6738, 1976, 36540, 13, 28484, 1330, 15561, 259]"
‚úÖ Best Practice: Group imports from the same module together for better readability.,"[26486, 227, 6705, 19939, 25, 4912, 17944, 422, 262, 976, 8265, 1978, 329, 1365, 1100, 1799, 13]",1.0,30,best_practice,6,Group imports from the same module together for better readability.,,12,from zvt.utils.pd_utils import pd_is_not_null,"[6738, 1976, 36540, 13, 26791, 13, 30094, 62, 26791, 1330, 279, 67, 62, 271, 62, 1662, 62, 8423]"
‚úÖ Best Practice: Group imports from the same module together for better readability.,"[26486, 227, 6705, 19939, 25, 4912, 17944, 422, 262, 976, 8265, 1978, 329, 1365, 1100, 1799, 13]",1.0,30,best_practice,8,Group imports from the same module together for better readability.,,30,,[]
"üß† ML Signal: Function to_report_period_type converts a date to a specific report period type, indicating a pattern of date-based classification.","[8582, 100, 254, 10373, 26484, 25, 15553, 284, 62, 13116, 62, 41007, 62, 4906, 26161, 257, 3128, 284, 257, 2176, 989, 2278, 2099, 11, 12739, 257, 3912, 286, 3128, 12, 3106, 17923, 13]",1.0,48,ml_signal,6,"Function to_report_period_type converts a date to a specific report period type, indicating a pattern of date-based classification.",,30,from zvt.utils.pd_utils import pd_is_not_null,"[6738, 1976, 36540, 13, 26791, 13, 30094, 62, 26791, 1330, 279, 67, 62, 271, 62, 1662, 62, 8423]"
‚úÖ Best Practice: Using a helper function to convert report_date to a consistent format improves code readability and maintainability.,"[26486, 227, 6705, 19939, 25, 8554, 257, 31904, 2163, 284, 10385, 989, 62, 4475, 284, 257, 6414, 5794, 19575, 2438, 1100, 1799, 290, 5529, 1799, 13]",0.5,48,best_practice,8,Using a helper function to convert report_date to a consistent format improves code readability and maintainability.,,48,,[]
‚úÖ Best Practice: Using specific date checks for classification ensures clarity and correctness in determining report periods.,"[26486, 227, 6705, 19939, 25, 8554, 2176, 3128, 8794, 329, 17923, 19047, 16287, 290, 29409, 287, 13213, 989, 9574, 13]",0.5,61,best_practice,10,Using specific date checks for classification ensures clarity and correctness in determining report periods.,,48,def to_report_period_type(report_date):,"[4299, 284, 62, 13116, 62, 41007, 62, 4906, 7, 13116, 62, 4475, 2599]"
‚úÖ Best Practice: Returning None for unmatched cases provides a clear indication of an unhandled date.,"[26486, 227, 6705, 19939, 25, 42882, 6045, 329, 48621, 2663, 3769, 257, 1598, 12955, 286, 281, 555, 38788, 3128, 13]",0.5,76,best_practice,19,Returning None for unmatched cases provides a clear indication of an unhandled date.,,61,        return ReportPeriod.year.value,"[220, 220, 220, 220, 220, 220, 220, 1441, 6358, 5990, 2101, 13, 1941, 13, 8367]"
üß† ML Signal: Default parameter usage with a function call,"[8582, 100, 254, 10373, 26484, 25, 15161, 11507, 8748, 351, 257, 2163, 869]",0.5,92,ml_signal,17,Default parameter usage with a function call,,76,        return ReportPeriod.season3.value,"[220, 220, 220, 220, 220, 220, 220, 1441, 6358, 5990, 2101, 13, 6230, 18, 13, 8367]"
üß† ML Signal: Conversion to a specific type,"[8582, 100, 254, 10373, 26484, 25, 44101, 284, 257, 2176, 2099]",0.5,107,ml_signal,19,Conversion to a specific type,,92,        return ReportPeriod.year.value,"[220, 220, 220, 220, 220, 220, 220, 1441, 6358, 5990, 2101, 13, 1941, 13, 8367]"
‚ö†Ô∏è SAST Risk (Low): Use of assert for input validation,"[158, 248, 254, 37929, 311, 11262, 19602, 357, 20535, 2599, 5765, 286, 6818, 329, 5128, 21201]",0.5,112,sast_risk,21,Use of assert for input validation,Low,107,    return None,"[220, 220, 220, 1441, 6045]"
üß† ML Signal: Date formatting pattern,"[8582, 100, 254, 10373, 26484, 25, 7536, 33313, 3912]",0.5,136,ml_signal,24,Date formatting pattern,,112,"def get_recent_report_date(the_date=now_pd_timestamp(), step=0):","[4299, 651, 62, 49921, 62, 13116, 62, 4475, 7, 1169, 62, 4475, 28, 2197, 62, 30094, 62, 16514, 27823, 22784, 2239, 28, 15, 2599]"
‚úÖ Best Practice: Use of descriptive variable names,"[26486, 227, 6705, 19939, 25, 5765, 286, 35644, 7885, 3891]",0.5,136,best_practice,35,Use of descriptive variable names,,136,,[]
üß† ML Signal: Recursive function call,"[8582, 100, 254, 10373, 26484, 25, 3311, 30753, 2163, 869]",0.5,145,ml_signal,37,Recursive function call,,136,        return recent,"[220, 220, 220, 220, 220, 220, 220, 1441, 2274]"
"‚ö†Ô∏è SAST Risk (Medium): The default value for 'the_date' is set to the result of a function call 'now_pd_timestamp()', which can lead to unexpected behavior if the function is called multiple times in quick succession.","[158, 248, 254, 37929, 311, 11262, 19602, 357, 31205, 2599, 383, 4277, 1988, 329, 705, 1169, 62, 4475, 6, 318, 900, 284, 262, 1255, 286, 257, 2163, 869, 705, 2197, 62, 30094, 62, 16514, 27823, 3419, 3256, 543, 460, 1085, 284, 10059, 4069, 611, 262, 2163, 318, 1444, 3294, 1661, 287, 2068, 22435, 13]",0.5,150,sast_risk,33,"The default value for 'the_date' is set to the result of a function call 'now_pd_timestamp()', which can lead to unexpected behavior if the function is called multiple times in quick succession.",Medium,145,    else:,"[220, 220, 220, 2073, 25]"
‚úÖ Best Practice: Consider using a more descriptive function name for 'get_recent_report_period' to clarify its purpose and behavior.,"[26486, 227, 6705, 19939, 25, 12642, 1262, 257, 517, 35644, 2163, 1438, 329, 705, 1136, 62, 49921, 62, 13116, 62, 41007, 6, 284, 18282, 663, 4007, 290, 4069, 13]",0.5,178,best_practice,34,Consider using a more descriptive function name for 'get_recent_report_period' to clarify its purpose and behavior.,,150,"        recent = ""{}{}"".format(the_date.year - 1, ""-12-31"")","[220, 220, 220, 220, 220, 220, 220, 2274, 796, 45144, 18477, 92, 1911, 18982, 7, 1169, 62, 4475, 13, 1941, 532, 352, 11, 27444, 1065, 12, 3132, 4943]"
üß† ML Signal: The use of default parameters and function calls as default values can be a signal for learning patterns in function usage.,"[8582, 100, 254, 10373, 26484, 25, 383, 779, 286, 4277, 10007, 290, 2163, 3848, 355, 4277, 3815, 460, 307, 257, 6737, 329, 4673, 7572, 287, 2163, 8748, 13]",0.5,178,ml_signal,35,The use of default parameters and function calls as default values can be a signal for learning patterns in function usage.,,178,,[]
"üß† ML Signal: The function 'get_recent_report_period' is likely part of a larger system dealing with dates and reports, which can be useful for understanding domain-specific behavior.","[8582, 100, 254, 10373, 26484, 25, 383, 2163, 705, 1136, 62, 49921, 62, 13116, 62, 41007, 6, 318, 1884, 636, 286, 257, 4025, 1080, 7219, 351, 9667, 290, 3136, 11, 543, 460, 307, 4465, 329, 4547, 7386, 12, 11423, 4069, 13]",0.5,186,ml_signal,36,"The function 'get_recent_report_period' is likely part of a larger system dealing with dates and reports, which can be useful for understanding domain-specific behavior.",,178,    if step == 0:,"[220, 220, 220, 611, 2239, 6624, 657, 25]"
‚úÖ Best Practice: Ensure that the function 'to_report_period_type' and 'get_recent_report_date' are well-documented to maintain code readability and maintainability.,"[26486, 227, 6705, 19939, 25, 48987, 326, 262, 2163, 705, 1462, 62, 13116, 62, 41007, 62, 4906, 6, 290, 705, 1136, 62, 49921, 62, 13116, 62, 4475, 6, 389, 880, 12, 47045, 284, 5529, 2438, 1100, 1799, 290, 5529, 1799, 13]",0.5,195,best_practice,37,Ensure that the function 'to_report_period_type' and 'get_recent_report_date' are well-documented to maintain code readability and maintainability.,,186,        return recent,"[220, 220, 220, 220, 220, 220, 220, 1441, 2274]"
üß† ML Signal: Function to determine stock exchange based on code,"[8582, 100, 254, 10373, 26484, 25, 15553, 284, 5004, 4283, 5163, 1912, 319, 2438]",0.5,195,ml_signal,35,Function to determine stock exchange based on code,,195,,[]
‚ö†Ô∏è SAST Risk (Low): Potential ValueError if code is not convertible to int,"[158, 248, 254, 37929, 311, 11262, 19602, 357, 20535, 2599, 32480, 11052, 12331, 611, 2438, 318, 407, 41637, 284, 493]",1.0,204,sast_risk,37,Potential ValueError if code is not convertible to int,Low,195,        return recent,"[220, 220, 220, 220, 220, 220, 220, 1441, 2274]"
üß† ML Signal: Conditional logic to categorize stock codes,"[8582, 100, 254, 10373, 26484, 25, 9724, 1859, 9156, 284, 17851, 1096, 4283, 12416]",0.5,216,ml_signal,39,Conditional logic to categorize stock codes,,204,        step = step - 1,"[220, 220, 220, 220, 220, 220, 220, 2239, 796, 2239, 532, 352]"
üß† ML Signal: Function for converting stock code to a specific ID format,"[8582, 100, 254, 10373, 26484, 25, 15553, 329, 23202, 4283, 2438, 284, 257, 2176, 4522, 5794]",1.0,240,ml_signal,43,Function for converting stock code to a specific ID format,,216,"def get_recent_report_period(the_date=now_pd_timestamp(), step=0):","[4299, 651, 62, 49921, 62, 13116, 62, 41007, 7, 1169, 62, 4475, 28, 2197, 62, 30094, 62, 16514, 27823, 22784, 2239, 28, 15, 2599]"
‚úÖ Best Practice: Use of format method for string formatting,"[26486, 227, 6705, 19939, 25, 5765, 286, 5794, 2446, 329, 4731, 33313]",1.0,268,best_practice,44,Use of format method for string formatting,,240,"    return to_report_period_type(get_recent_report_date(the_date, step=step))","[220, 220, 220, 1441, 284, 62, 13116, 62, 41007, 62, 4906, 7, 1136, 62, 49921, 62, 13116, 62, 4475, 7, 1169, 62, 4475, 11, 2239, 28, 9662, 4008]"
üß† ML Signal: Pattern for generating unique identifiers for stocks,"[8582, 100, 254, 10373, 26484, 25, 23939, 329, 15453, 3748, 42814, 329, 14420]",0.5,268,ml_signal,46,Pattern for generating unique identifiers for stocks,,268,,[]
‚ö†Ô∏è SAST Risk (Low): Potential risk if get_china_exchange is not validated or sanitized,"[158, 248, 254, 37929, 311, 11262, 19602, 357, 20535, 2599, 32480, 2526, 611, 651, 62, 354, 1437, 62, 1069, 3803, 318, 407, 31031, 393, 5336, 36951]",0.5,279,sast_risk,47,Potential risk if get_china_exchange is not validated or sanitized,Low,268,def get_china_exchange(code):,"[4299, 651, 62, 354, 1437, 62, 1069, 3803, 7, 8189, 2599]"
‚úÖ Best Practice: Consider adding type hints for function parameters and return type for clarity.,"[26486, 227, 6705, 19939, 25, 12642, 4375, 2099, 20269, 329, 2163, 10007, 290, 1441, 2099, 329, 16287, 13]",1.0,279,best_practice,45,Consider adding type hints for function parameters and return type for clarity.,,279,,[]
"üß† ML Signal: Function with default parameter value, indicating optional input handling.","[8582, 100, 254, 10373, 26484, 25, 15553, 351, 4277, 11507, 1988, 11, 12739, 11902, 5128, 9041, 13]",0.5,279,ml_signal,46,"Function with default parameter value, indicating optional input handling.",,279,,[]
‚ö†Ô∏è SAST Risk (Low): Division by zero risk if value is not a number; consider input validation.,"[158, 248, 254, 37929, 311, 11262, 19602, 357, 20535, 2599, 7458, 416, 6632, 2526, 611, 1988, 318, 407, 257, 1271, 26, 2074, 5128, 21201, 13]",1.0,290,sast_risk,47,Division by zero risk if value is not a number; consider input validation.,Low,279,def get_china_exchange(code):,"[4299, 651, 62, 354, 1437, 62, 1069, 3803, 7, 8189, 2599]"
‚úÖ Best Practice: Use of inline conditional expression for concise code.,"[26486, 227, 6705, 19939, 25, 5765, 286, 26098, 26340, 5408, 329, 35327, 2438, 13]",1.0,300,best_practice,48,Use of inline conditional expression for concise code.,,290,    code_ = int(code),"[220, 220, 220, 2438, 62, 796, 493, 7, 8189, 8]"
üß† ML Signal: Function with default parameter usage,"[8582, 100, 254, 10373, 26484, 25, 15553, 351, 4277, 11507, 8748]",0.5,311,ml_signal,47,Function with default parameter usage,,300,def get_china_exchange(code):,"[4299, 651, 62, 354, 1437, 62, 1069, 3803, 7, 8189, 2599]"
‚úÖ Best Practice: Use of default parameter for fallback value,"[26486, 227, 6705, 19939, 25, 5765, 286, 4277, 11507, 329, 2121, 1891, 1988]",0.5,321,best_practice,48,Use of default parameter for fallback value,,311,    code_ = int(code),"[220, 220, 220, 2438, 62, 796, 493, 7, 8189, 8]"
üß† ML Signal: Conditional expression for value checking,"[8582, 100, 254, 10373, 26484, 25, 9724, 1859, 5408, 329, 1988, 10627]",0.5,332,ml_signal,50,Conditional expression for value checking,,321,"        return ""sh""","[220, 220, 220, 220, 220, 220, 220, 1441, 366, 1477, 1]"
‚úÖ Best Practice: Use of conditional expression for concise logic,"[26486, 227, 6705, 19939, 25, 5765, 286, 26340, 5408, 329, 35327, 9156]",0.5,343,best_practice,51,Use of conditional expression for concise logic,,332,    elif code_ >= 400000:,"[220, 220, 220, 1288, 361, 2438, 62, 18189, 7337, 830, 25]"
‚úÖ Best Practice: Use of f-string for string formatting improves readability and performance,"[26486, 227, 6705, 19939, 25, 5765, 286, 277, 12, 8841, 329, 4731, 33313, 19575, 1100, 1799, 290, 2854]",1.0,356,best_practice,49,Use of f-string for string formatting improves readability and performance,,343,    if 800000 >= code_ >= 600000:,"[220, 220, 220, 611, 10460, 830, 18189, 2438, 62, 18189, 10053, 830, 25]"
üß† ML Signal: Conversion of float to percentage string is a common pattern,"[8582, 100, 254, 10373, 26484, 25, 44101, 286, 12178, 284, 5873, 4731, 318, 257, 2219, 3912]",1.0,367,ml_signal,50,Conversion of float to percentage string is a common pattern,,356,"        return ""sh""","[220, 220, 220, 220, 220, 220, 220, 1441, 366, 1477, 1]"
‚úÖ Best Practice: Rounding to two decimal places is a common requirement for percentage representation,"[26486, 227, 6705, 19939, 25, 371, 9969, 284, 734, 32465, 4113, 318, 257, 2219, 9079, 329, 5873, 10552]",1.0,378,best_practice,52,Rounding to two decimal places is a common requirement for percentage representation,,367,"        return ""bj""","[220, 220, 220, 220, 220, 220, 220, 1441, 366, 50007, 1]"
‚úÖ Best Practice: Initialize loop counter outside the loop for clarity,"[26486, 227, 6705, 19939, 25, 20768, 1096, 9052, 3753, 2354, 262, 9052, 329, 16287]",1.0,389,best_practice,52,Initialize loop counter outside the loop for clarity,,378,"        return ""bj""","[220, 220, 220, 220, 220, 220, 220, 1441, 366, 50007, 1]"
üß† ML Signal: Iterative pattern to find a recent report date,"[8582, 100, 254, 10373, 26484, 25, 40806, 876, 3912, 284, 1064, 257, 2274, 989, 3128]",1.0,389,ml_signal,55,Iterative pattern to find a recent report date,,389,,[]
‚úÖ Best Practice: Use list concatenation for adding filters,"[26486, 227, 6705, 19939, 25, 5765, 1351, 1673, 36686, 341, 329, 4375, 16628]",1.0,416,best_practice,58,Use list concatenation for adding filters,,389,"    return ""{}_{}_{}"".format(""stock"", get_china_exchange(code), code)","[220, 220, 220, 1441, 45144, 92, 23330, 92, 23330, 92, 1911, 18982, 7203, 13578, 1600, 651, 62, 354, 1437, 62, 1069, 3803, 7, 8189, 828, 2438, 8]"
‚úÖ Best Practice: Initialize filters as a list if not provided,"[26486, 227, 6705, 19939, 25, 20768, 1096, 16628, 355, 257, 1351, 611, 407, 2810]",1.0,430,best_practice,61,Initialize filters as a list if not provided,,416,"def value_to_pct(value, default=0):","[4299, 1988, 62, 1462, 62, 79, 310, 7, 8367, 11, 4277, 28, 15, 2599]"
üß† ML Signal: Querying data with dynamic filters,"[8582, 100, 254, 10373, 26484, 25, 2264, 263, 1112, 1366, 351, 8925, 16628]",1.0,430,ml_signal,63,Querying data with dynamic filters,,430,,[]
‚ö†Ô∏è SAST Risk (Low): Ensure pd_is_not_null is correctly implemented to avoid false positives,"[158, 248, 254, 37929, 311, 11262, 19602, 357, 20535, 2599, 48987, 279, 67, 62, 271, 62, 1662, 62, 8423, 318, 9380, 9177, 284, 3368, 3991, 38548]",1.0,430,sast_risk,63,Ensure pd_is_not_null is correctly implemented to avoid false positives,Low,430,,[]
‚úÖ Best Practice: Increment loop counter in a separate line for readability,"[26486, 227, 6705, 19939, 25, 10791, 434, 9052, 3753, 287, 257, 4553, 1627, 329, 1100, 1799]",1.0,430,best_practice,63,Increment loop counter in a separate line for readability,,430,,[]
‚úÖ Best Practice: Use __all__ to explicitly declare public API of the module,"[26486, 227, 6705, 19939, 25, 5765, 11593, 439, 834, 284, 11777, 13627, 1171, 7824, 286, 262, 8265]",1.0,430,best_practice,63,Use __all__ to explicitly declare public API of the module,,430,,[]
