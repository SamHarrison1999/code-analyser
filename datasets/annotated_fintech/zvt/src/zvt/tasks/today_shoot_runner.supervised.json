[
  {
    "line": 13,
    "text": "from zvt.tag.tag_stats import build_stock_pool_and_tag_stats",
    "annotation": "\u2705 Best Practice: Use of a logger for the module allows for better debugging and logging practices.",
    "confidence": 1.0,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      12985,
      13,
      12985,
      62,
      34242,
      1330,
      1382,
      62,
      13578,
      62,
      7742,
      62,
      392,
      62,
      12985,
      62,
      34242
    ],
    "start_token": 0,
    "end_token": 21,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      49706,
      329,
      262,
      8265,
      3578,
      329,
      1365,
      28769,
      290,
      18931,
      6593,
      13
    ],
    "label": "best_practice",
    "reason": "Use of a logger for the module allows for better debugging and logging practices."
  },
  {
    "line": 16,
    "text": "logger = logging.getLogger(__name__)",
    "annotation": "\ud83e\udde0 ML Signal: Use of a background scheduler indicates a pattern of periodic task execution.",
    "confidence": 1.0,
    "tokens": [
      6404,
      1362,
      796,
      18931,
      13,
      1136,
      11187,
      1362,
      7,
      834,
      3672,
      834,
      8
    ],
    "start_token": 21,
    "end_token": 34,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      4469,
      6038,
      18173,
      9217,
      257,
      3912,
      286,
      27458,
      4876,
      9706,
      13
    ],
    "label": "ml_signal",
    "reason": "Use of a background scheduler indicates a pattern of periodic task execution."
  },
  {
    "line": 19,
    "text": "sched = BackgroundScheduler()",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Infinite loop without a clear exit condition can lead to resource exhaustion",
    "confidence": 0.5,
    "tokens": [
      1416,
      704,
      796,
      25353,
      50,
      1740,
      18173,
      3419
    ],
    "start_token": 34,
    "end_token": 42,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      22380,
      9052,
      1231,
      257,
      1598,
      8420,
      4006,
      460,
      1085,
      284,
      8271,
      32493
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Infinite loop without a clear exit condition can lead to resource exhaustion"
  },
  {
    "line": 22,
    "text": "def calculate_top():",
    "annotation": "\ud83e\udde0 ML Signal: Usage of logging to track execution flow and state",
    "confidence": 0.5,
    "tokens": [
      4299,
      15284,
      62,
      4852,
      33529
    ],
    "start_token": 42,
    "end_token": 47,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      18931,
      284,
      2610,
      9706,
      5202,
      290,
      1181
    ],
    "label": "ml_signal",
    "reason": "Usage of logging to track execution flow and state"
  },
  {
    "line": 27,
    "text": "    while True:",
    "annotation": "\ud83e\udde0 ML Signal: Usage of logging to track execution flow and state",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      981,
      6407,
      25
    ],
    "start_token": 47,
    "end_token": 53,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      18931,
      284,
      2610,
      9706,
      5202,
      290,
      1181
    ],
    "label": "ml_signal",
    "reason": "Usage of logging to track execution flow and state"
  },
  {
    "line": 29,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Fixed sleep duration can lead to inefficiencies if conditions change",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 53,
    "end_token": 53,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      10832,
      3993,
      9478,
      460,
      1085,
      284,
      287,
      24531,
      22139,
      611,
      3403,
      1487
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Fixed sleep duration can lead to inefficiencies if conditions change"
  },
  {
    "line": 44,
    "text": "            build_stock_pool_and_tag_stats(",
    "annotation": "\ud83e\udde0 ML Signal: Usage of logging to track execution flow and state",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      1382,
      62,
      13578,
      62,
      7742,
      62,
      392,
      62,
      12985,
      62,
      34242,
      7
    ],
    "start_token": 53,
    "end_token": 76,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      18931,
      284,
      2610,
      9706,
      5202,
      290,
      1181
    ],
    "label": "ml_signal",
    "reason": "Usage of logging to track execution flow and state"
  },
  {
    "line": 46,
    "text": "                stock_pool_name=\"\u4eca\u65e5\u5f02\u52a8\",",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Fixed sleep duration can lead to inefficiencies if conditions change",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      4283,
      62,
      7742,
      62,
      3672,
      2625,
      20015,
      232,
      33768,
      98,
      28156,
      224,
      27950,
      101,
      1600
    ],
    "start_token": 76,
    "end_token": 106,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      10832,
      3993,
      9478,
      460,
      1085,
      284,
      287,
      24531,
      22139,
      611,
      3403,
      1487
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Fixed sleep duration can lead to inefficiencies if conditions change"
  },
  {
    "line": 47,
    "text": "                insert_mode=InsertMode.append,",
    "annotation": "\u2705 Best Practice: Initialize logging to capture runtime information",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      7550,
      62,
      14171,
      28,
      44402,
      19076,
      13,
      33295,
      11
    ],
    "start_token": 106,
    "end_token": 130,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      20768,
      1096,
      18931,
      284,
      8006,
      19124,
      1321
    ],
    "label": "best_practice",
    "reason": "Initialize logging to capture runtime information"
  },
  {
    "line": 47,
    "text": "                insert_mode=InsertMode.append,",
    "annotation": "\ud83e\udde0 ML Signal: Usage of scheduling to automate task execution",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      7550,
      62,
      14171,
      28,
      44402,
      19076,
      13,
      33295,
      11
    ],
    "start_token": 130,
    "end_token": 154,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      26925,
      284,
      43511,
      4876,
      9706
    ],
    "label": "ml_signal",
    "reason": "Usage of scheduling to automate task execution"
  },
  {
    "line": 47,
    "text": "                insert_mode=InsertMode.append,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Joining on a thread without timeout can lead to hanging if the thread does not terminate",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      7550,
      62,
      14171,
      28,
      44402,
      19076,
      13,
      33295,
      11
    ],
    "start_token": 154,
    "end_token": 178,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      5302,
      3191,
      319,
      257,
      4704,
      1231,
      26827,
      460,
      1085,
      284,
      10938,
      611,
      262,
      4704,
      857,
      407,
      23654
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Joining on a thread without timeout can lead to hanging if the thread does not terminate"
  }
]