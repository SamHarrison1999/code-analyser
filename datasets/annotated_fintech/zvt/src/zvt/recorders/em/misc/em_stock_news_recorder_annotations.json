[
  {
    "line": 2,
    "text": "import pandas as pd",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [
      11748,
      19798,
      292,
      355,
      279,
      67
    ],
    "start_token": 0,
    "end_token": 6,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 4,
    "text": "from zvt.contract.api import df_to_db",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      28484,
      13,
      15042,
      1330,
      47764,
      62,
      1462,
      62,
      9945
    ],
    "start_token": 6,
    "end_token": 19,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 6,
    "text": "from zvt.domain import Stock",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      27830,
      1330,
      10500
    ],
    "start_token": 19,
    "end_token": 26,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 8,
    "text": "from zvt.recorders.em import em_api",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      8344,
      6361,
      13,
      368,
      1330,
      795,
      62,
      15042
    ],
    "start_token": 26,
    "end_token": 38,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 10,
    "text": "",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 38,
    "end_token": 38,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 12,
    "text": "class EMStockNewsRecorder(FixedCycleDataRecorder):",
    "annotation": "\u2705 Best Practice: Grouping imports from the same module together improves readability.",
    "confidence": 1.0,
    "tokens": [
      4871,
      17228,
      26207,
      9980,
      6690,
      2875,
      7,
      13715,
      20418,
      2375,
      6601,
      6690,
      2875,
      2599
    ],
    "start_token": 38,
    "end_token": 52,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      4912,
      278,
      17944,
      422,
      262,
      976,
      8265,
      1978,
      19575,
      1100,
      1799,
      13
    ],
    "label": "best_practice",
    "reason": "Grouping imports from the same module together improves readability."
  },
  {
    "line": 9,
    "text": "from zvt.utils.time_utils import count_interval, now_pd_timestamp, recent_year_date",
    "annotation": "\ud83e\udde0 ML Signal: Hardcoded URLs can indicate a pattern of static resource access.",
    "confidence": 0.5,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      26791,
      13,
      2435,
      62,
      26791,
      1330,
      954,
      62,
      3849,
      2100,
      11,
      783,
      62,
      30094,
      62,
      16514,
      27823,
      11,
      2274,
      62,
      1941,
      62,
      4475
    ],
    "start_token": 52,
    "end_token": 79,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6912,
      40976,
      32336,
      460,
      7603,
      257,
      3912,
      286,
      9037,
      8271,
      1895,
      13
    ],
    "label": "ml_signal",
    "reason": "Hardcoded URLs can indicate a pattern of static resource access."
  },
  {
    "line": 10,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Hardcoded URL may lead to maintenance issues if the URL changes.",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 79,
    "end_token": 79,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      6912,
      40976,
      10289,
      743,
      1085,
      284,
      9262,
      2428,
      611,
      262,
      10289,
      2458,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Hardcoded URL may lead to maintenance issues if the URL changes."
  },
  {
    "line": 12,
    "text": "class EMStockNewsRecorder(FixedCycleDataRecorder):",
    "annotation": "\ud83e\udde0 ML Signal: Hardcoded URLs can indicate a pattern of static resource access.",
    "confidence": 0.5,
    "tokens": [
      4871,
      17228,
      26207,
      9980,
      6690,
      2875,
      7,
      13715,
      20418,
      2375,
      6601,
      6690,
      2875,
      2599
    ],
    "start_token": 79,
    "end_token": 93,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6912,
      40976,
      32336,
      460,
      7603,
      257,
      3912,
      286,
      9037,
      8271,
      1895,
      13
    ],
    "label": "ml_signal",
    "reason": "Hardcoded URLs can indicate a pattern of static resource access."
  },
  {
    "line": 13,
    "text": "    original_page_url = \"https://wap.eastmoney.com/quote/stock/0.002572.html\"",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Hardcoded URL may lead to maintenance issues if the URL changes.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      2656,
      62,
      7700,
      62,
      6371,
      796,
      366,
      5450,
      1378,
      86,
      499,
      13,
      23316,
      26316,
      13,
      785,
      14,
      22708,
      14,
      13578,
      14,
      15,
      13,
      405,
      1495,
      4761,
      13,
      6494,
      1
    ],
    "start_token": 93,
    "end_token": 125,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      6912,
      40976,
      10289,
      743,
      1085,
      284,
      9262,
      2428,
      611,
      262,
      10289,
      2458,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Hardcoded URL may lead to maintenance issues if the URL changes."
  },
  {
    "line": 15,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Usage of entity schema indicates a pattern of data modeling.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 125,
    "end_token": 125,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      9312,
      32815,
      9217,
      257,
      3912,
      286,
      1366,
      21128,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of entity schema indicates a pattern of data modeling."
  },
  {
    "line": 17,
    "text": "    data_schema = StockNews",
    "annotation": "\ud83e\udde0 ML Signal: Usage of data schema indicates a pattern of data modeling.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      1366,
      62,
      15952,
      2611,
      796,
      10500,
      9980
    ],
    "start_token": 125,
    "end_token": 135,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      1366,
      32815,
      9217,
      257,
      3912,
      286,
      1366,
      21128,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of data schema indicates a pattern of data modeling."
  },
  {
    "line": 19,
    "text": "    provider = \"em\"",
    "annotation": "\ud83e\udde0 ML Signal: Hardcoded provider strings can indicate a pattern of static configuration.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      10131,
      796,
      366,
      368,
      1
    ],
    "start_token": 135,
    "end_token": 143,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6912,
      40976,
      10131,
      13042,
      460,
      7603,
      257,
      3912,
      286,
      9037,
      8398,
      13
    ],
    "label": "ml_signal",
    "reason": "Hardcoded provider strings can indicate a pattern of static configuration."
  },
  {
    "line": 20,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Hardcoded provider strings can indicate a pattern of static configuration.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 143,
    "end_token": 143,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6912,
      40976,
      10131,
      13042,
      460,
      7603,
      257,
      3912,
      286,
      9037,
      8398,
      13
    ],
    "label": "ml_signal",
    "reason": "Hardcoded provider strings can indicate a pattern of static configuration."
  },
  {
    "line": 16,
    "text": "    entity_schema = Stock",
    "annotation": "\u2705 Best Practice: Importing inside a function can limit the scope and improve startup time.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      9312,
      62,
      15952,
      2611,
      796,
      10500
    ],
    "start_token": 143,
    "end_token": 152,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      17267,
      278,
      2641,
      257,
      2163,
      460,
      4179,
      262,
      8354,
      290,
      2987,
      13693,
      640,
      13
    ],
    "label": "best_practice",
    "reason": "Importing inside a function can limit the scope and improve startup time."
  },
  {
    "line": 20,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Conditional logic based on date comparison.",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 152,
    "end_token": 152,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      9724,
      1859,
      9156,
      1912,
      319,
      3128,
      7208,
      13
    ],
    "label": "ml_signal",
    "reason": "Conditional logic based on date comparison."
  },
  {
    "line": 24,
    "text": "            start = from_date",
    "annotation": "\ud83e\udde0 ML Signal: Usage of a method to retrieve the latest saved record.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      796,
      422,
      62,
      4475
    ],
    "start_token": 152,
    "end_token": 168,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      257,
      2446,
      284,
      19818,
      262,
      3452,
      7448,
      1700,
      13
    ],
    "label": "ml_signal",
    "reason": "Usage of a method to retrieve the latest saved record."
  },
  {
    "line": 24,
    "text": "            start = from_date",
    "annotation": "\ud83e\udde0 ML Signal: API call pattern with parameters.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      796,
      422,
      62,
      4475
    ],
    "start_token": 168,
    "end_token": 184,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      7824,
      869,
      3912,
      351,
      10007,
      13
    ],
    "label": "ml_signal",
    "reason": "API call pattern with parameters."
  },
  {
    "line": 36,
    "text": "            ps=ps,",
    "annotation": "\ud83e\udde0 ML Signal: Data transformation from records to DataFrame.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      26692,
      28,
      862,
      11
    ],
    "start_token": 184,
    "end_token": 199,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      6060,
      13389,
      422,
      4406,
      284,
      6060,
      19778,
      13
    ],
    "label": "ml_signal",
    "reason": "Data transformation from records to DataFrame."
  },
  {
    "line": 38,
    "text": "            latest_code=latest_news.news_code if latest_news else None,",
    "annotation": "\ud83e\udde0 ML Signal: Logging of DataFrame information.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3452,
      62,
      8189,
      28,
      42861,
      62,
      10827,
      13,
      10827,
      62,
      8189,
      611,
      3452,
      62,
      10827,
      2073,
      6045,
      11
    ],
    "start_token": 199,
    "end_token": 228,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      286,
      6060,
      19778,
      1321,
      13
    ],
    "label": "ml_signal",
    "reason": "Logging of DataFrame information."
  },
  {
    "line": 38,
    "text": "            latest_code=latest_news.news_code if latest_news else None,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential risk of SQL injection if df_to_db is not properly handling inputs.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3452,
      62,
      8189,
      28,
      42861,
      62,
      10827,
      13,
      10827,
      62,
      8189,
      611,
      3452,
      62,
      10827,
      2073,
      6045,
      11
    ],
    "start_token": 228,
    "end_token": 257,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      2526,
      286,
      16363,
      16954,
      611,
      47764,
      62,
      1462,
      62,
      9945,
      318,
      407,
      6105,
      9041,
      17311,
      13
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential risk of SQL injection if df_to_db is not properly handling inputs."
  },
  {
    "line": 38,
    "text": "            latest_code=latest_news.news_code if latest_news else None,",
    "annotation": "\ud83e\udde0 ML Signal: Instantiation and execution pattern of a class.",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3452,
      62,
      8189,
      28,
      42861,
      62,
      10827,
      13,
      10827,
      62,
      8189,
      611,
      3452,
      62,
      10827,
      2073,
      6045,
      11
    ],
    "start_token": 257,
    "end_token": 286,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      24470,
      3920,
      290,
      9706,
      3912,
      286,
      257,
      1398,
      13
    ],
    "label": "ml_signal",
    "reason": "Instantiation and execution pattern of a class."
  },
  {
    "line": 38,
    "text": "            latest_code=latest_news.news_code if latest_news else None,",
    "annotation": "\ud83e\udde0 ML Signal: Use of __all__ to define public API of the module.",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      3452,
      62,
      8189,
      28,
      42861,
      62,
      10827,
      13,
      10827,
      62,
      8189,
      611,
      3452,
      62,
      10827,
      2073,
      6045,
      11
    ],
    "start_token": 286,
    "end_token": 315,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      11593,
      439,
      834,
      284,
      8160,
      1171,
      7824,
      286,
      262,
      8265,
      13
    ],
    "label": "ml_signal",
    "reason": "Use of __all__ to define public API of the module."
  }
]