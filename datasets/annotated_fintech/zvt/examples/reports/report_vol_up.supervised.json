[
  {
    "line": 11,
    "text": "from zvt.factors.top_stocks import get_top_stocks",
    "annotation": "\u2705 Best Practice: Use of a logger for the module to handle logging",
    "confidence": 0.5,
    "tokens": [
      6738,
      1976,
      36540,
      13,
      22584,
      669,
      13,
      4852,
      62,
      29522,
      1330,
      651,
      62,
      4852,
      62,
      29522
    ],
    "start_token": 0,
    "end_token": 16,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      49706,
      329,
      262,
      8265,
      284,
      5412,
      18931
    ],
    "label": "best_practice",
    "reason": "Use of a logger for the module to handle logging"
  },
  {
    "line": 14,
    "text": "logger = logging.getLogger(__name__)",
    "annotation": "\u2705 Best Practice: Use of a background scheduler for periodic tasks",
    "confidence": 1.0,
    "tokens": [
      6404,
      1362,
      796,
      18931,
      13,
      1136,
      11187,
      1362,
      7,
      834,
      3672,
      834,
      8
    ],
    "start_token": 16,
    "end_token": 29,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      4469,
      6038,
      18173,
      329,
      27458,
      8861
    ],
    "label": "best_practice",
    "reason": "Use of a background scheduler for periodic tasks"
  },
  {
    "line": 17,
    "text": "",
    "annotation": "\u2705 Best Practice: Instantiating an EmailInformer for sending emails",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 29,
    "end_token": 29,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      2262,
      17096,
      803,
      281,
      9570,
      818,
      16354,
      329,
      7216,
      7237
    ],
    "label": "best_practice",
    "reason": "Instantiating an EmailInformer for sending emails"
  },
  {
    "line": 19,
    "text": "",
    "annotation": "\u2705 Best Practice: Use of a cron job for scheduling tasks at specific times",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 29,
    "end_token": 29,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      1067,
      261,
      1693,
      329,
      26925,
      8861,
      379,
      2176,
      1661
    ],
    "label": "best_practice",
    "reason": "Use of a cron job for scheduling tasks at specific times"
  },
  {
    "line": 17,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Usage of external data provider and entity type for stock data",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 29,
    "end_token": 29,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      29566,
      286,
      7097,
      1366,
      10131,
      290,
      9312,
      2099,
      329,
      4283,
      1366
    ],
    "label": "ml_signal",
    "reason": "Usage of external data provider and entity type for stock data"
  },
  {
    "line": 19,
    "text": "",
    "annotation": "\ud83e\udde0 ML Signal: Pattern of selecting top stocks based on specific criteria",
    "confidence": 1.0,
    "tokens": [],
    "start_token": 29,
    "end_token": 29,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      23939,
      286,
      17246,
      1353,
      14420,
      1912,
      319,
      2176,
      9987
    ],
    "label": "ml_signal",
    "reason": "Pattern of selecting top stocks based on specific criteria"
  },
  {
    "line": 19,
    "text": "",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential information disclosure through email",
    "confidence": 0.5,
    "tokens": [],
    "start_token": 29,
    "end_token": 29,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      1321,
      13019,
      832,
      3053
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential information disclosure through email"
  },
  {
    "line": 30,
    "text": "        entity_ids=selected,",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic email title generation based on stock selection",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      9312,
      62,
      2340,
      28,
      34213,
      11
    ],
    "start_token": 29,
    "end_token": 42,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      3053,
      3670,
      5270,
      1912,
      319,
      4283,
      6356
    ],
    "label": "ml_signal",
    "reason": "Dynamic email title generation based on stock selection"
  },
  {
    "line": 31,
    "text": "        target_date=target_date,",
    "annotation": "\ud83e\udde0 ML Signal: Repeated pattern of selecting top stocks with different criteria",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2496,
      62,
      4475,
      28,
      16793,
      62,
      4475,
      11
    ],
    "start_token": 42,
    "end_token": 57,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      30558,
      515,
      3912,
      286,
      17246,
      1353,
      14420,
      351,
      1180,
      9987
    ],
    "label": "ml_signal",
    "reason": "Repeated pattern of selecting top stocks with different criteria"
  },
  {
    "line": 31,
    "text": "        target_date=target_date,",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential information disclosure through email",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2496,
      62,
      4475,
      28,
      16793,
      62,
      4475,
      11
    ],
    "start_token": 57,
    "end_token": 72,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      1321,
      13019,
      832,
      3053
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential information disclosure through email"
  },
  {
    "line": 41,
    "text": "    inform(",
    "annotation": "\ud83e\udde0 ML Signal: Dynamic email title generation based on stock selection",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      4175,
      7
    ],
    "start_token": 72,
    "end_token": 77,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      26977,
      3053,
      3670,
      5270,
      1912,
      319,
      4283,
      6356
    ],
    "label": "ml_signal",
    "reason": "Dynamic email title generation based on stock selection"
  },
  {
    "line": 44,
    "text": "        target_date=target_date,",
    "annotation": "\u2705 Best Practice: Use of cron job for scheduling regular tasks",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2496,
      62,
      4475,
      28,
      16793,
      62,
      4475,
      11
    ],
    "start_token": 77,
    "end_token": 92,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      1067,
      261,
      1693,
      329,
      26925,
      3218,
      8861
    ],
    "label": "best_practice",
    "reason": "Use of cron job for scheduling regular tasks"
  },
  {
    "line": 44,
    "text": "        target_date=target_date,",
    "annotation": "\ud83e\udde0 ML Signal: Use of specific parameters and configurations for stock analysis",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      2496,
      62,
      4475,
      28,
      16793,
      62,
      4475,
      11
    ],
    "start_token": 92,
    "end_token": 107,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      2176,
      10007,
      290,
      25412,
      329,
      4283,
      3781
    ],
    "label": "ml_signal",
    "reason": "Use of specific parameters and configurations for stock analysis"
  },
  {
    "line": 64,
    "text": "        em_group_over_write=False,",
    "annotation": "\u2705 Best Practice: Use of a main guard to prevent code from running on import",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      795,
      62,
      8094,
      62,
      2502,
      62,
      13564,
      28,
      25101,
      11
    ],
    "start_token": 107,
    "end_token": 124,
    "annotation_tokens": [
      26486,
      227,
      6705,
      19939,
      25,
      5765,
      286,
      257,
      1388,
      4860,
      284,
      2948,
      2438,
      422,
      2491,
      319,
      1330
    ],
    "label": "best_practice",
    "reason": "Use of a main guard to prevent code from running on import"
  },
  {
    "line": 65,
    "text": "        filter_by_volume=False,",
    "annotation": "\ud83e\udde0 ML Signal: Logging initialization for tracking and debugging",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      8106,
      62,
      1525,
      62,
      29048,
      28,
      25101,
      11
    ],
    "start_token": 124,
    "end_token": 139,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5972,
      2667,
      37588,
      329,
      9646,
      290,
      28769
    ],
    "label": "ml_signal",
    "reason": "Logging initialization for tracking and debugging"
  },
  {
    "line": 67,
    "text": "        start_timestamp=\"2021-01-01\",",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Potential NameError if 'report_vol_up_stocks' is not defined",
    "confidence": 0.5,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      62,
      16514,
      27823,
      2625,
      1238,
      2481,
      12,
      486,
      12,
      486,
      1600
    ],
    "start_token": 139,
    "end_token": 158,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      32480,
      6530,
      12331,
      611,
      705,
      13116,
      62,
      10396,
      62,
      929,
      62,
      29522,
      6,
      318,
      407,
      5447
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Potential NameError if 'report_vol_up_stocks' is not defined"
  },
  {
    "line": 67,
    "text": "        start_timestamp=\"2021-01-01\",",
    "annotation": "\ud83e\udde0 ML Signal: Use of a scheduler for periodic task execution",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      62,
      16514,
      27823,
      2625,
      1238,
      2481,
      12,
      486,
      12,
      486,
      1600
    ],
    "start_token": 158,
    "end_token": 177,
    "annotation_tokens": [
      8582,
      100,
      254,
      10373,
      26484,
      25,
      5765,
      286,
      257,
      6038,
      18173,
      329,
      27458,
      4876,
      9706
    ],
    "label": "ml_signal",
    "reason": "Use of a scheduler for periodic task execution"
  },
  {
    "line": 67,
    "text": "        start_timestamp=\"2021-01-01\",",
    "annotation": "\u26a0\ufe0f SAST Risk (Low): Direct access to protected member '_thread' of a class",
    "confidence": 1.0,
    "tokens": [
      220,
      220,
      220,
      220,
      220,
      220,
      220,
      923,
      62,
      16514,
      27823,
      2625,
      1238,
      2481,
      12,
      486,
      12,
      486,
      1600
    ],
    "start_token": 177,
    "end_token": 196,
    "annotation_tokens": [
      158,
      248,
      254,
      37929,
      311,
      11262,
      19602,
      357,
      20535,
      2599,
      4128,
      1895,
      284,
      6861,
      2888,
      705,
      62,
      16663,
      6,
      286,
      257,
      1398
    ],
    "label": "sast_risk",
    "severity": "Low",
    "reason": "Direct access to protected member '_thread' of a class"
  }
]